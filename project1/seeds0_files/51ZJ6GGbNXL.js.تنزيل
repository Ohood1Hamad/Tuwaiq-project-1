(function(y){var A=window.AmazonUIPageJS||window.P,I=A._namespace||A.attributeErrors,c=I?I("DPTwisterPlusDesktopConfiguratorAssets",""):A;c.guardFatal?c.guardFatal(y)(c,window):c.execute(function(){y(c,window)})})(function(y,A,I){y.when("A","desktop-configurator-view","desktop-configurator-widgets-factory","desktop-configurator-slot-manager","twister-dynamic-style","desktop-configurator-logger","desktop-configurator-dimension-handler","desktop-configurator-side-sheet-view","desktop-configurator-popover-factory").register("desktop-configurator-view-initialiser",
function(c,m,u,r,g,n,w,F,z){c.on("twister-configurator-initialize-view-event",function(c,v,y,q){if(c&&v&&y){var e=new n(c);c=new m(c,v,u.Row,r,g,e,w,F,z,y);q(c);c.onInitializeTwister()}});c.trigger("twister-configurator-initialize-view-event")});"use strict";y.when("A","twister-plus-desktop-configurator-mark-render").register("desktop-configurator-dimension-handler",function(c){function m(c){this.numberOfDimensionsExpandedOnLanding=c.numberOfDimensionsExpanded||0;this.expandAllDimensions=-1===this.numberOfDimensionsExpandedOnLanding;
this.dimensionKeyRowMap={};this.expandedDimensionList=[];this.maxNumberOfDimensionsExpanded=c.maxNumberOfDimensionsExpanded||1}m.prototype={registerDimension:function(c,m){this.dimensionKeyRowMap[c]=m;(this.expandAllDimensions||this.expandedDimensionList.length<this.numberOfDimensionsExpandedOnLanding)&&this.expandedDimensionList.push(c)},init:function(){-1===this.maxNumberOfDimensionsExpanded&&(this.maxNumberOfDimensionsExpanded=Object.keys(this.dimensionKeyRowMap).length);for(var c=0;c<this.expandedDimensionList.length;c++)this.dimensionKeyRowMap[this.expandedDimensionList[c]].expand()},
expandDimension:function(c){-1===this.expandedDimensionList.indexOf(c)&&this.expandedDimensionList.push(c);if(this.maxNumberOfDimensionsExpanded<this.expandedDimensionList.length)for(var m=0;m<this.expandedDimensionList.length&&(this.expandedDimensionList[m]!==c&&this.dimensionKeyRowMap[this.expandedDimensionList[m]].collapse(),this.maxNumberOfDimensionsExpanded!==this.expandedDimensionList.length);m++);},collapseDimension:function(c){c=this.expandedDimensionList.indexOf(c);-1!==c&&this.expandedDimensionList.splice(c,
1)}};return m});"use strict";y.when("A","desktop-configurator-constants","3p-promise","twister-plus-desktop-configurator-mark-render").register("desktop-configurator-view",function(c,m,u){function r(n,w,r,z,p,v,B,q,e,b){function a(){"function"===typeof A.markFeatureInteractive&&A.markFeatureInteractive("twister",{hasComponents:!0,components:[{name:"twister-desktopConfigurator"}]})}function k(){return c.map(f.dimList,function(b,a){if(!f.isSingletonMap[b])return new u(function(d){l(f.rows[b],b,a);d()})})}
function l(b,a,h){var k=f.inlineTwisterData.slotsEnabledDimensions,e=!!((f.dimList.length===k.length?k[h]:k[0])&&d(a)),l=b.getInitialVisibleSwatchList(),q=[];c.each(n.tvm.dimtoValueMap[a],function(b,d){b=t(b,f.data.imageUrlMap[a+"::"+d],f.data.popoverImageUrlMap[a+"::"+d],d,f.initSelectionState[a].val===d,l[d]?l[d].slotHtm:"",e,l[d]&&l[d].isVisible,l[d]&&l[d].unavailable,I,a,f.data.dimensionPageLoadUrls[a]?f.data.dimensionPageLoadUrls[a][b]:null);q.push(b)});f.swatches[a]=q}function h(){c.each(f.latestTwisterUpdates,
function(b){null!==b&&f.twister.dimensionChanged(b)})}function d(){var b=n.state();return!!n.util.getAsinFromSelectionInfo(b)}function t(b,a,d,h,k,e,t,c,l,q,n,g){return{text:b,image:a||"",popoverImage:d||"",name:h,id:n+"_"+h,selected:k,slotHtm:e,showSlot:t,isVisible:c,unavailable:l,defaultSlotUnavailable:f.data.defaultSlotUnavailable,isCirclularImageSwatch:f.inlineTwisterData&&"CIRCLE"===f.inlineTwisterData.swatchShape,asin:q,pageUrl:g}}function D(){function b(a,d,h){h=f.inlineTwisterData.stringTranslationMap?
f.inlineTwisterData.stringTranslationMap.unselectedDimensionPrompt:"";var k=n.tvm.dimensionDisplayText[a];return{dimKey:a,titleSelectorPrefix:"inline-twister-dim-title-",titleValueSelector:"inline-twister-dim-title-value",mainText:k,subText:-1!==d?n.tvm.dimtoValueMap[a][d]:h.replace("###dimension",(k||"").toLowerCase())}}function h(b,a,d,k,e,l,c){d=t(e,f.data.imageUrlMap[k+"::"+d.index],f.data.popoverImageUrlMap[k+"::"+d.index],d.index,!1,"",l,!0,c,d.asin,k,f.data.dimensionPageLoadUrls[k]?f.data.dimensionPageLoadUrls[k][e]:
null);b.toggleSwatch&&(e=b.toggleSwatch.createSwatch(d,f.inlineTwisterData.numOfRowsPerDimension),d.isVisible=e.isVisible);a.push(d);b=b.toggleSwatch?b.toggleSwatch.getNumberOfSwatchesPerRow():0;!f.inlineVariationsSize[k]&&0<b&&(f.inlineVariationsSize[k]=b*f.inlineTwisterData.numOfRowsPerDimension)}function k(b,a,d,e){var l=n.util.getDimAvailability(a,B),c=n.tvm.dimtoValueMap[a],q=n.tvm.dimCombinations,g=0,p=[],w;-1!==d&&(w=f.data.dimensionPageLoadUrls[a]?f.data.dimensionPageLoadUrls[a][c[d]]:null,
q=t(c[d],f.data.imageUrlMap[a+"::"+d],f.data.popoverImageUrlMap[a+"::"+d],d,!0,"",e,!0,!1,q[M],a,w),p.push(q),b.toggleSwatch&&b.toggleSwatch.createSwatch(q,f.inlineTwisterData.numOfRowsPerDimension),g++);for(w=0;w<l.available.length&&!(q=l.available[w],d!==q.index&&(h(b,p,q,a,c[q.index],e,!1),g++,f.inlineVariationsSize[a]&&g>=f.inlineVariationsSize[a]));w++);for(w=0;w<l.unavailable.length&&!(f.inlineVariationsSize[a]&&g>=f.inlineVariationsSize[a]);w++)q=l.unavailable[w],h(b,p,q,a,c[q.index],e,!0),
g++;f.inlineVariationsSize[a]||(f.inlineVariationsSize[a]=g,b.toggleSwatch&&b.toggleSwatch.setNumberOfSwatchesPerRow(g));return p}function l(b,a,k,h,t,q,w,p){var D=!(!a||!d(k));a=n.util.getDimAvailability(k,h);var m={},v=0,G=e.updateIfCurrentlyActive,r=-1;g.each(h,function(b,a){a.dimKey===k&&(r=a.val)});-1!==r&&(q&&(m[r]=v),v++);var L=f.rows[k];c.each(a.available,function(a){b[a.index]=b[a.index]||{};var d=b[a.index];d.unavailable=!1;d.selected&&(r=a.index,d.isVisible||(E[k]&&b[E[k]]&&(b[E[k]].isVisible=
!1),E[k]=a.index),d.isVisible=!0);q&&(d.isVisible=v<f.inlineVariationsSize[k]||d.selected);p&&(d.isVisible=!0);var h=d.isVisible||t,l=t?d.id+"_sec":d.id;D&&h?d.slotHtm=f.slotManager.get(a.asin,k,f.noOfLoadingIndicator,t,u,G.bind(e,l),w):(d.slotHtm=d.slotHtm||"",G(l,d.slotHtm));(t||p)&&L&&L.toggleSwatch&&(h=L.toggleSwatch.getSwatch(a.index),c.objectIsEmpty(h)&&(m[a.index]=v));q&&r!==a.index&&(m[a.index]=v);d.showSlot=D;d.selected||v++});c.each(a.unavailable,function(a){b[a.index]=b[a.index]||{};var d=
b[a.index];d.unavailable=!0;q&&(d.isVisible=v<f.inlineVariationsSize[k]);p&&(d.isVisible=!0);d.slotHtm=D?f.data.defaultSlotUnavailable:"";q&&(m[a.index]=v);d.showSlot=D;v++});J[k]=!0;return m}function q(a,b,k){var h=!(!a||!d(b)),l=f.rows[b].getInitialVisibleSwatchList();h&&c.each(l,function(d){if(!d.unavailable){var h=e.updateIfCurrentlyActive.bind(e,d.id),h=f.slotManager.get(d.asin,b,f.noOfLoadingIndicator,!1,u,h,k);d.updateSlotNode({showSlot:a,slotHtm:h},!1,b)}})}function p(a){var b=!0;(f.inlineTwisterData.disableImageSwatch===
I?0:f.inlineTwisterData.disableImageSwatch)||(b=!f.inlineTwisterData.imageDimensionKeysMap[a]);return b}function D(a,b,d,k){var h=-1!==f.textSwatchList.indexOf(d);a&&h&&(!k||f.isSideSheetOpen)&&(f.slotManager.resetMinSlotHeight(d),a=b.toggleSwatch.getSlotNodes(k),v(a,d,k),f.slotManager.updateSlotHeight(d,k))}function v(a,b,d){f.slotManager.resetSlotHeight(b,d);c.each(a,function(a,d){c.each(a,function(a){f.slotManager.setState(a,b,d)})})}function u(a,b){b&&!f.isSideSheetOpen||D(!0,f.rows[a],a,b)}function z(a,
b,d){a={dimIndex:f.dimIndexMap[a],dimValueIndex:b};b=m.DP_STATE_VIEW_SUBTYPE;var k=f.dimensionsMap,h;h=n.state();for(var e=m.CHAR_UNDERSCORE,l=[],c=0;c<f.dimensionsMap.length;c++){var t=h[c].val;-1===t&&(t=m.CHAR_ASTERISK);l.push(String(t))}h=e?l.join(e):l;return{divMetadata:a,eventType:d,subType:b,dimensionsMap:k,currDimCombId:h}}var B=n.state(),A=0,P={},M="",J={},K=f.inlineTwisterData.slotsEnabledDimensions,Q=f.inlineTwisterData.popoverSlotsEnabledDimensions;g.each(B,function(a,b){P[b.dimKey]=b;
M+=b.val+(a===B.length-1?"":":");f.dimIndexMap[b.dimKey]=a;f.dimensionsMap[a]=b.dimKey});f.initSelectionState=P;g.each(f.dimList,function(a,d){var k=!(f.dimList.length===K.length?K[A]:K[0]);a=P[d].val;p(d)&&f.textSwatchList.push(d);a=b(d,a);a=new r("inline-twister-row-",a,{showSlot:!1,dimKey:d,inlineTwisterData:f.inlineTwisterData},{handleDimensionExpansion:function(a,b,h){d=a.dimKey;if(h){f.dimensionHandler.expandDimension(d);a=I;h={};J[d]?(h=l(f.swatches[d],b,d,n.state(),!1,!0,k,!!f.dimensionsExpandedInline[d]),
f.indexTranslationMap[d]=h,a={swatches:f.swatches[d]}):(q(b,d,k),J[d]=!0);var e=f.rows[d];e.setState(a,h,G,null,!1);D(b,e,d);f.logger.logDimensionExpanded(d);E[d]=null}else f.dimensionHandler.collapseDimension(d),f.logger.logDimensionCollapsed(d)}},f.logger);f.rows[d]=a;A+=1});0===f.inlineTwisterData.numberOfDimensionsExpanded&&(a(),H=!0);A=0;g.each(f.dimList,function(a,h){function t(a,b,d){if(b){var k=parseInt(b.buttonName,10),l=a[k]&&a[k].id?a[k].id:"";h=b.buttonGroupName;a[k]&&a[k].selected&&f.logger.logSelectedSwatchClick();
l&&e.exists(l)&&e.hide(l);G=h;a={dimKey:h,val:k};f.isSwatchCreationComplete?(f.twister.metaData(z(h,k,m.viewEvents.CLICK)),f.twister.dimensionChanged(a)):f.latestTwisterUpdates[h]=a;f.logger.logDimensionValueClick();d&&f.logger.logDimValueClickAfterAutoUpdate()}}function q(a,b){var h=b.data,k=b.type;b=b.$currentTarget;var l=h.id,t=!!d(a),t=!h.isImageSwatch&&E&&t&&J,t=h.isImageSwatch||t,c=!J,p=[];if(h){if(k===m.viewEvents.MOUSE_ENTER){var g=parseInt(h.name,10);p.push({dimKey:a,val:g});t&&e.show(l,
b,h,c)}else t&&e.hide(l),p=n.state();f.twister.metaData(z(a,g,k));f.twister.dimensionPeek(p);G=a}}function p(a,b){var d=parseInt(a.buttonName,10),h=f.swatches[b];(h?h[d]:I)?(x.setUserInteracting(!0),c.delay(function(){t(h,a)},350),f.logger.logSecViewSwatchClick()):y.log("Selected swatch not found on side sheet toggle button click. Value clicked: "+d+" ; Swatch length: "+f.swatches[b].length,L.ERROR,L.ATTRIBUTION)}function v(a,b){f.isSideSheetOpen=b;f.isWindowResizedAfterSideSheetOpen&&!b&&g.each(f.dimList,
function(a,b){-1!==f.textSwatchList.indexOf(b)&&(F(b),(a=f.rows[b])&&a.toggleSwatch&&a.toggleSwatch.alignTextSwatches())});f.isWindowResizedAfterSideSheetOpen=!1}function r(a,b,d){var h=f.inlineTwisterData.stringTranslationMap?f.inlineTwisterData.stringTranslationMap.desktopConfiguratorAllOptionsString:"",k=f.swatches[a].length,t={dimensionDisplayText:d.mainText,displayValueText:d.subText,dimKey:a,getSwatchInfo:x.getSwatch.bind(x),destroyPopover:e.destroy,optionsText:h,totalValueCount:k,isTextSwatch:H};
f.sideSheet.open(t);var q={swatches:f.swatches[a]};c.delay(function(){var d=l(f.swatches[a],b,a,n.state(),!0,!1,O,!1);x.setState(q,d,G,null,!0,!0);f.sideSheet.update(t);c.delay(function(){H&&D(b,x,a,!0);H&&x.toggleSwatch&&k<m.TEXT_ALIGNMENT_LIMIT&&x.toggleSwatch.alignTextSwatches(!1,!0)})},1E3);f.isSideSheetOpen=!0;f.isWindowResizedAfterSideSheetOpen=!1}function u(a,b,d){x.expanderContent.find(m.sideSheetSelectors.DIMENSION_VALUES_LIST).children().slice(1);var h=x.expanderContent.height();x.setMaxHeight(h);
var k={swatches:f.swatches[a]};if(d)d=(R-f.inlineTwisterData.numOfRowsPerDimension+1)*h,h=l(f.swatches[a],b,a,n.state(),!1,!1,O,!0),x.setState(k,h,G,null,!1,!0),x.triggerExpandOrCollapseAnimation(d,500),D(b,x,a),H&&x.toggleSwatch&&x.toggleSwatch.alignTextSwatches(!0),f.dimensionsExpandedInline[a]=!0;else{d=h;b=x.getDisplaySwatches();for(h=f.inlineTwisterData.numOfRowsPerDimension;h<b.length;h++){for(var e=!1,t=I,c=0;c<b[h].length;c++)if(t=b[h][c]?b[h][c].domNode:null){var q=parseInt(t.attr("data-idxInToggleSwatchList"),
10),q=k.swatches[q];q.selected&&(e=!0);q.isVisible=q.selected}!e&&t&&(d-=t[0].scrollHeight)}x.triggerExpandOrCollapseAnimation(d,250,function(){x.setState(k,{},G,null,!1)});f.dimensionsExpandedInline[a]=!1}}function F(a){f.isWindowResizedAfterSideSheetOpen=!0;f.isSideSheetOpen||(D(f.showSlotMap[a],f.rows[a],a,!1),f.sideSheet.refreshWidth())}var B,E,H,C;a=f.dimList.length===K.length?K[A]:K[0];var J=f.dimList.length===Q.length?Q[A]:Q[0],O=!a,x;B=P[h].val;E=a||J;f.showSlotMap[h]=E;n.util.getDimensionInfo();
a=-1!==w.singletonDimensionKeys.indexOf(h);f.isSingletonMap[h]=a;x=f.rows[h];A+=1;if(!a&&x){a=!(!E||!d(h));C=[];H=-1!==f.textSwatchList.indexOf(h);var N={name:h,swatches:C,isTextSwatch:H,onChange:t,onHover:q,hideSlotsFromMainView:O};f.sideSheet.registerToggleButtonGroup(h,p,v);x.initializeComponents(N,E,{showSideSheet:r,toggleInlineExpansion:u,handleWindowResize:F});f.latestTwisterUpdates[h]=null;f.dimensionHandler.registerDimension(h,x);C=k(x,h,B,a);if(x&&x.toggleSwatch){H&&x.toggleSwatch.alignTextSwatches();
N=x.toggleSwatch.getNumberOfSwatchesPerRow();a=c.filter(C,function(a){return a.isVisible});var N=N*R,M=(n.tvm.dimtoValueMap[h]||[]).length;(a?a.length:C.length)<M&&(N>=M?x.showInlineExpansionLink():x.showSideSheetLink())}f.swatches[h]=C;f.twister=n.registerActive({viewAttribution:"DetailPage",viewName:"DesktopConfiguratorRowView_"+h},{updateView:function(a,d){var k={},e;if("VARIATION_CHANGE"===a){d=d.selected().selectionInfo();g.each(d,function(a,b){k[b.dimKey]=b});e=k[h].val;C=f.swatches[h];C[e]=
C[e]||{};C[B]=C[B]||{};C[B].selected=!1;C[e].selected=!0;a=b(h,B);B===e||H||x.setThumbnailImage(C[e].image);B=e;l(C,E,h,d,!1,!1,O,!!f.dimensionsExpandedInline[h]);d=b(h,e);e={swatches:C};var t=c.filter(C,function(a){return a.isVisible});C.length!==t.length||x.isInlineExpanded||(x.hideInlineExpansionLink(),f.inlineVariationsSize[h]=C.length);x.setExpanderHeaderAriaLabel(a,d);x.setState(e,{},G,d,!1);D(E,x,h)}else"VARIATION_PEEK"===a&&(d=d.peek().selectionInfo(),g.each(d,function(a,b){k[b.dimKey]=b}),
e=k[h].val,d=b(h,e),G===h&&x.title.setState(d),f.sideSheet.activeDimKey===h&&f.sideSheet.updateDimVal(d))}})}});H||a();f.dimensionHandler.init()}var f=this;this.isWindowResizedAfterSideSheetOpen=!1;this.data=w;this.noOfLoadingIndicator=1;this.dimList=f.data.dimensionList;this.dimensionsMap=[];this.dimensionsExpandedInline={};this.logger=v;this.inlineTwisterData=f.data?f.data.inlineTwisterData||{}:{};this.swatches={};this.sideSheet=new q(v);var E={};this.slotManager=new z(n,p,this.logger,this.inlineTwisterData);
this.rows={};this.dimensionHandler=new B(f.inlineTwisterData);this.isSingletonMap={};this.indexTranslationMap={};this.textSwatchList=[];var G,L=m.loggingConstants,R=m.MAX_INLINE_ROWS;this.isSwatchCreationComplete=!1;this.latestTwisterUpdates={};this.initSelectionState={};e.setVisibleSlotConfig(this.inlineTwisterData&&this.inlineTwisterData.desktopConfiguratorSlotsInPopover?this.inlineTwisterData.desktopConfiguratorSlotsInPopover:[]);this.inlineVariationsSize={};this.dimIndexMap={};this.isSideSheetOpen=
!1;this.showSlotMap={};var H=!1;n.slotsDimSum.addDefaultQueryParameter("showFancyPrice",f.inlineTwisterData.showFancyPrice);n.slotsDimSum.addDefaultQueryParameter("twisterFlavor",m.DESKTOP_CONFIGURATOR_FLAVOR);(function(){var a=f.logger.createFunctionTimerInstance("desktopConfiguratorInitTime");a.start();D();a.stop()})();(function(){b.then(function(){c.each(f.rows,function(a){a.activatePageRefresh()})})})();y.execute("desktop-configurator-hidden-swatch-creation",function(){u.all(k()).then(function(){f.isSwatchCreationComplete=
!0;h()})})}var g=c.$;r.prototype={onInitializeTwister:function(){var n="",w=g("#twister-plus-inline-twister .inline-twister-manual-load");0!==w.length&&(n=c.loadImageManually(w));return n}};return r});"use strict";y.when("A").register("desktop-configurator-constants",function(c){return{AJAX_CALL_TIMEOUT:2E4,DIMENSION_VALUE:"DimensionValue###",DISPLAY_VALUE:"DisplayValue###",SWATCH_DATA:"SwatchData###",DESKTOP_CONFIGURATOR_FLAVOR:"twisterPlusDesktopConfigurator",MAX_DIMENSION_FLAVOUR_CAP:3,POPOVER_DELAY:500,
MAX_INLINE_ROWS:7,SIDE_SHEET_ANIMATION_SPEED:300,SIDE_SHEET_PADDING:32,TEXT_SWATCH_MARGIN_RIGHT:6,CONFIGURED_SLOTS:["price","ms3","twisterAvailability","deliveryPromise"],DP_STATE_VIEW_SUBTYPE:"DETAILPAGE_STATE_VIEW_METADATA",CHAR_UNDERSCORE:"_",CHAR_ASTERISK:"*",DEFAULT_SCROLLER_WIDTH:20,BORDER_WIDTH:2,TEXT_ALIGNMENT_LIMIT:400,viewEvents:{MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",CLICK:"click"},sideSheetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",SEC_VIEW_DIMENSION_VALUE_LIST:" #tp-inline-twister-dim-values-container",
DIMENSION_VALUES_LIST:" .dimension-values-list",DIMENSION_VALUES_LIST_ODD_CHILD:" .dimension-values-list \x3e :nth-child(odd)",DIMENSION_VALUES_LIST_EVEN_CHILD:" .dimension-values-list \x3e :nth-child(even)",LIST_ITEM_CIRCULAR_IMAGE:".dimension-value-list-item-circular-image",CIRCULAR_IMAGE_SWATCH_BUTTON:".circle-image-swatch-button",LIST_ITEM_SQUARE_IMAGE:".dimension-value-list-item-square-image",SQUARE_IMAGE_SWATCH_BUTTON:".image-swatch-button",TEXT_LIST_ITEM:".swatch-list-item-text",TEXT_SWATCH_BUTTON:".text-swatch-button",
TEXT_SWATCH_BUTTON_WITH_SLOTS:".text-swatch-button-with-slots",IMAGE_SELECTOR:".swatch-image",SEC_VIEW_TOGGLE_BUTTON_PREFIX:"sec_",DELAY:200},widgetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",EXPANDER_HEADER_PREFIX:"#inline-twister-expander-header-",DIMENSION_EXPANDER_ICON_PREFIX:"#dimension-expander-icon-",EXPANDED_DIMENSION_TEXT_PREFIX:"#inline-twister-expanded-dimension-text-",COLLAPSED_DIMENSION_TEXT_PREFIX:"#inline-twister-collapsed-dimension-text-",AUTO_NOTIFICATION_EXPANDED:"#inline-twister-auto-notification-expanded",
AUTO_NOTIFICATION_COLLAPSED:"#inline-twister-auto-notification-collapsed",IMAGE_THUMBNAIL:".dimension-collapsed-image-thumbnail",SWATCH_NODE_SELECTOR:".inline-twister-swatch",SLOT_NODE_SELECTOR:".dimension-slot-info",TOGGLE_BUTTON_SELECTOR:".a-button-toggle",IMAGE_SELECTOR:".swatch-image",DIMENSION_VALUES_LIST:".dimension-values-list"},classes:{A_COLOR_ATTAINABLE:"a-color-attainable",AOK_HIDDEN:"aok-hidden",DIMENSION_EXPANDER_CONTENT_EXPAND:"dimension-expander-content-expand",ROTATE:"rotate",A_BUTTON_UNAVAILABLE:"a-button-unavailable",
A_BUTTON_SELECTED:"a-button-selected",A_BUTTON_FOCUS:"a-button-focus",ROW_IDENTIFIER_PREFIX:"desktop-configurator-dim-row-"},cssConstants:{BG_COLOR:"background-color",GREEN_BG_COLOR:"#D9EED9",WHITE_BG_COLOR:"white"},loggingConstants:{ATTRIBUTION:"TwisterPlusDesktopConfigurator",ERROR:"ERROR"}}});"use strict";y.when("A","twister-common-constants","twister-plus-desktop-configurator-mark-render").register("desktop-configurator-logger",function(c,m){function u(c){if(!(this instanceof u))return new u(c);
g||(g=this);g.twisterCore=c;return g}var r=c.$,g,n=A.ue;u.prototype={logCSMDataOnLanding:function(){var c=0,g=0,m=0,p=this.twisterCore.util,v=p.tvm.dimensionInfo,u=this.twisterCore.state().length,q=Object.keys(p.tvm.dimCombinations).length;r.each(v,function(e,b){e=b.dimKey;p.isRequiredDim(e)&&m++;p.isSingletonDim(e)?g++:c++});n&&n.count&&(n.count("dpMobileTwisterDropdownPresent",c),n.count("dpMbileTwisterSingletonDim",g),n.count("dpMobileTwisterRequiredDim",m),n.count("dpMobileTwisterDimSize",u),
n.count("dpMobileTwisterFamilySize",q),n.count("twisterPlus.inlineTwisterGV",1))},logCSMTagsOnLanding:function(g){function n(a,b,k){var e=[];if(b===k)e.push(""),a=a[b],c.$.isArray(a)?c.each(a,function(a,b){e.push(a)}):e.push(a);else{var f=Math.floor((b+k)/2);b=n.call(this,a,b,f);var l=n.call(this,a,f+1,k);c.each(b,function(a,b){c.each(l,function(b,d){e.push(""===a?b:""===b?a:a+":"+b)})})}return e}var r=this,p=[],v=!0,u=!0,q=m.FAMILY_SIZE_BUCKET_LIMITS,e=m.DEFAULT_SELECTION_TAG,b=Object.keys(this.twisterCore.util.tvm.dimCombinations).length,
a,k;g.dimensionList&&(a="variation_dimension:"+g.dimensionList.length,c.each(g.dimensionList,function(a,b){r.addCSMTag(a)}));for(var l=1;l<q.length;l++)if(b<=q[l]){k="family_size_bucket:"+q[l-1]+"-"+q[l];break}else l===q.length-1&&(k="family_size_bucket:gt"+q[l]);g.dimensionInfo&&c.each(g.dimensionInfo,function(a,b){a.isSingleton||(v=!1)});q=v?"SingletonFamily":"DesktopConfigurator";g.initDimCombination&&c.each(g.initDimCombination,function(a,b){-1===a.val&&(u=!1)});a&&p.push(a);k&&p.push(k);q&&p.push(q);
u&&e&&p.push(e);g=n.call(this,p,0,p.length-1);(function(a){var b=this;c.each(a,function(a,h){a&&b.addCSMTag(a)})}).call(this,g)},createFunctionTimerInstance:function(c){var g=this;return{eventType:c,start:function(){this.startTime=Date.now()},stop:function(){this.startTime&&g.logCounter(this.eventType,Date.now()-this.startTime)}}},addCSMTag:function(c){A.ue&&A.ue.tag&&A.ue.tag(c)},logCounter:function(c,g){n&&n.count&&(g===I?n.count(c,(n.count(c)||0)+1):n.count(c,g))},logBottomSheetPageUpdate:function(c){this.logCounter("twisterPlus.inlineTwisterPageUpdate")},
logSelectedSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.selectedSwatchClick")},logDimensionValueClick:function(){this.logCounter("dpmobiletwisterclickOndimval")},logSecViewTotalCount:function(c){this.logCounter("twisterPlus.inlineTwister.secondaryViewCount."+c)},logSecViewGV:function(c){this.logCounter("twisterPlus.inlineTwister.secondaryViewGV."+c)},logSecViewClosed:function(c){this.logCounter("twisterPlus.inlineTwister.secondaryViewClosed."+c)},logDimensionCollapsed:function(c){this.logCounter("twisterPlus.inlineTwister.dimCollapse."+
c)},logDimensionExpanded:function(c){this.logCounter("twisterPlus.inlineTwister.dimExpand."+c)},logSecViewSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.secViewSwatchClick")},logDimExpansionAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimExpansionAfterAutoUpdate")},logDimValueClickAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimValueClickAfterAutoUpdate")},logAvailabilitySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.availabilitySlotRender")},
logPPUSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.ppuSlotRender")},logPrimeSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.primeSlotRender")},logPriceSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.priceSlotRender")},logDeliverySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.deliverySlotRender")},logReviewsSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.reviewsSlotRender")}};return u});"use strict";y.when("A").register("twister-dynamic-style",
function(c){function m(c,n){this.name=c;this.styleNode;this.rules=n||[];this.pendingRefresh}var u=c.$,r={};m.prototype={refresh:function(){var c=u("\x3cdiv /\x3e",{html:"\x26shy;\x3cstyle\x3e"+this.rules.join(" ")+"\x3c/style\x3e"});this.styleNode?(this.styleNode.replaceWith(c),delete this.styleNode,this.styleNode=c):(this.styleNode=c,this.styleNode.appendTo("body"))}};return{addCSSRules:function(c,n){r[c]?r[c].rules=n||[]:r[c]=new m(c,n);r[c].refresh()}}});"use strict";y.when("A","desktop-configurator-constants",
"desktop-configurator-twister-register","twister-plus-desktop-configurator-mark-render").register("desktop-configurator-slot-manager",function(c,m,u){function r(c,e,b,a){this.twisterCore=c;this.batch={};this.currentBatch;this.maxSlotHeight={};this.minSlotHeight={};this.dynamicStyle=e;this.slotIdentifierMap={};this.logger=b;this.auiPriceSize=a&&a.auiPriceSize?a.auiPriceSize:"m";this.currentlyUnavailableMessage=a&&a.stringTranslationMap?a.stringTranslationMap.currentlyUnavailableMessage:"";this.desktopConfiguratorSlotsInMainView=
a&&a.desktopConfiguratorSlotsInMainView?a.desktopConfiguratorSlotsInMainView:[]}function g(q,e,b,a,k){var l=this.batch,h=this;l[q]=l[q]||[];l[q].push(b);clearTimeout(this.currentBatch);this.currentBatch=setTimeout(function(){var b=c.map(h.batch,function(a,b){return b});h.twisterCore.slotsDimSum.get(b,function(b){var d=h.batch[b.ASIN];d&&(v.each(d,function(a,d){d(b)}),delete h.batch[b.ASIN]);p(h.batch)&&(d=Object.keys(h.maxSlotHeight),c.each(d,function(b){a(b,k&&b===e)}))})},0)}function n(c,e,b,a){b[e]=
b[e]||{};b[e].uniqueCount=b[e].uniqueCount||0;var k="inline-twister-dimsum-loading-"+e+"-"+b[e].uniqueCount;b[e].uniqueCount+=1;return{loadingHtm:'\x3cdiv class\x3d"'+k+(c?" loading-indicator-1":"")+(a?" aok-hidden":"")+'"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',promise:function(a,b){var d=v("."+k+":not(.loading-indicator-in-popover)").parent();d.length&&(d.html(a),b(d))}}}function w(c){return c.replace(/\n/g,"").replace(/[\t ]+\</g,"\x3c").replace(/\>[\t ]+\</g,"\x3e\x3c").replace(/\>[\t ]+$/g,"\x3e")}
function y(c,e,b){return w(B.default.call(this,c.content.twisterSlotDiv,e,b))}function z(c,e){if(!c||0===c.length)return e;if(0<c.find(".loading-indicator-1").length)return c[0].scrollHeight;if(0===c.find(".defaultSlotUnavailable").length)return e;c=c[0].scrollHeight;e<c&&(e=c);return e}function p(c){for(var e in c)if(c.hasOwnProperty(e))return!1;return!0}var v=c.$,B={default:function(c,e,b){c=v("\x3cdiv\x3e"+c+"\x3c/div\x3e");var a=c.find(".price_slot_ppu"),k=c.find("#ms3slot"),l=c.find("#twisterAvailability"),
h=c.find("#deliveryPromisePrefix"),d=c.find(".variationReviewsSection"),t=b?[]:this.desktopConfiguratorSlotsInMainView,g=c.find(".twister_swatch_price");l.length&&((g.length||b)&&-1===t.indexOf("twisterAvailability")&&l.parent().addClass("aok-hidden"),l.parent().append("\x3cdiv class\x3d'js-dummy-twister-availability'\x3e\x3c/div\x3e"),l.parent().find(".a-size-medium").removeClass("a-size-medium").addClass("a-size-small"),l.parent().find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-small"),
l.parent().find(".a-size-large").removeClass("a-size-large").addClass("a-size-small"),e&&this.logger.logAvailabilitySlotRender());0<g.length?(-1===t.indexOf("price")&&g.addClass("aok-hidden"),g.addClass("inline-twister-swatch-price"),b=c.find(".a-price"),0<b.length?b[0].dataset&&(b[0].dataset.aSize=this.auiPriceSize):(g.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base").addClass("a-color-base"),g.find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-base").addClass("a-color-base"),
g.find(".a-size-large").removeClass("a-size-large").addClass("a-size-base").addClass("a-color-base")),b="a-size-small",g.find(".olpWrapper").removeClass("a-size-mini a-size-micro a-size-medium a-size-large a-size-base a-color-base").addClass(b),a.length&&(b="twister-plus-inline-twister-ppu a-size-micro",a.removeClass("a-size-mini a-size-small a-size-medium a-size-large a-size-base a-color-base").addClass(b),e&&this.logger.logPPUSlotRender()),e&&this.logger.logPriceSlotRender()):(g=c.find("#sndbox-mobile-twister-price"),
0<g.length&&e&&this.logger.logPriceSlotRender());k.length&&(-1===t.indexOf("ms3")&&k.addClass("aok-hidden"),e&&this.logger.logPrimeSlotRender());0<h.length&&(h.removeClass("a-size-small a-color-secondary").addClass("a-color-base a-size-base"),-1===t.indexOf("deliveryPromise")&&h.parent().addClass("aok-hidden"),h.find("br").remove(),a=h.find("b"),0===a.length&&(a=h.find("span")),a.length&&(k=" "+w(a.text()),a.addClass("aok-hidden"),h.append("\x3cspan\x3e"+k+"\x3c/span\x3e")),e&&this.logger.logDeliverySlotRender());
0<d.length&&(d.removeClass("a-spacing-micro a-spacing-top-micro").addClass("a-spacing-none a-spacing-top-none"),-1===t.indexOf("variationReviews")&&d.addClass("aok-hidden"),e&&this.logger.logReviewsSlotRender());u.executeModifiers(c);return c.html()}};r.prototype={get:function(c,e,b,a,k,l,h){var d=this,t=this.twisterCore.slotsDimSum.get([c]);if(t[c])return y.call(d,t[c].Value,!1,h);var p=n(b,e,d.slotIdentifierMap,h);g.call(this,c,e,function(a){p.promise(y.call(d,a.Value,!0,h),l)},k,a);return p.loadingHtm},
setState:function(c,e,b){this.minSlotHeight[e]||(this.minSlotHeight[e]=[]);this.maxSlotHeight[e]||(this.maxSlotHeight[e]=[]);this.minSlotHeight[e][b]=this.minSlotHeight[e][b]||0;this.minSlotHeight[e][b]=z(c,this.minSlotHeight[e][b]);this.maxSlotHeight[e][b]=this.maxSlotHeight[e][b]||0;var a=this.maxSlotHeight[e];var k=this.maxSlotHeight[e][b];!c||0===c.length||0<c.find(".loading-indicator-1").length||(c=c[0].scrollHeight,k<c&&(k=c));a[b]=k;this.maxSlotHeight[e][b]=this.maxSlotHeight[e][b]>this.minSlotHeight[e][b]?
this.maxSlotHeight[e][b]:this.minSlotHeight[e][b]},updateSlotHeight:function(g,e){var b=[],a;c.each(this.maxSlotHeight[g],function(c,l){e?(b.push("#desktop-configurator-side-sheet #"+g+"dim_list .desktop-configurator-dim-row-"+l+" .dimension-slot-info {height: "+c+"px;}"),a="twister-plus-desktop-configurator-side-sheet-slot-height-"):(b.push("#inline-twister-expander-content-"+g+" .desktop-configurator-dim-row-"+l+" .dimension-slot-info {height: "+c+"px;}"),a="twister-plus-desktop-configurator-slot-height-")});
this.dynamicStyle.addCSSRules(a+g,b)},resetMinSlotHeight:function(g){this.minSlotHeight[g]||(this.minSlotHeight[g]=[]);this.minSlotHeight[g]=c.map(this.minSlotHeight[g],function(){return 0})},resetSlotHeight:function(g,e){this.maxSlotHeight[g]||(this.maxSlotHeight[g]=[]);this.dynamicStyle.addCSSRules((e?"twister-plus-desktop-configurator-side-sheet-slot-height-":"twister-plus-desktop-configurator-slot-height-")+g,[]);this.maxSlotHeight[g]=c.map(this.maxSlotHeight[g],function(){return 0})}};return r});
"use strict";y.when("A","desktop-configurator-constants","detail-page-side-sheet","twister-plus-desktop-configurator-mark-render").register("desktop-configurator-side-sheet-view",function(c,m,u){function r(e){var b=this,a=v("#twister-plus-inline-twister-container");0!==a.length&&(a=a[0].getBoundingClientRect().width,this.sideSheetData=this.activeDimKey=null,this.swatchList=[],this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null,this.updateSideSheetStatus={},this.scrollbarWidth=
b.getScrollbarWidth(),this.sideSheet=new u({id:"desktop-configurator-side-sheet",shouldRenderHTMLString:!0,animationDuration:m.SIDE_SHEET_ANIMATION_SPEED,width:a+m.SIDE_SHEET_PADDING+b.scrollbarWidth,onAfterHide:function(){e.logSecViewClosed(b.activeDimKey);c.each(b.swatchList,function(a){var e=parseInt(a.getAttribute("data-idxInToggleSwatchList"),10),e=b.sideSheetData.getSwatchInfo(e);c.declarative.remove(a,"desktop-configurator-swatch-hover:"+b.activeDimKey+"_sec");b.sideSheetData.destroyPopover(e.id+
"_sec")});F.call(b);b.updateSideSheetStatus[b.activeDimKey]&&b.updateSideSheetStatus[b.activeDimKey](b.activeDimKey,!1);g.call(b)}}))}function g(){this.sideSheetData=this.activeDimKey=null;this.swatchList=[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null}function n(e,b){c.each(e,function(a){var k="desktop-configurator-swatch-hover:"+b+"_sec";try{c.declarative.remove(a,k),c.declarative.create(a,k,{})}catch(e){y.log("Hover event subscribe failed with error: "+this.name,
q.ERROR,q.ATTRIBUTION)}})}function w(e){e=Array.prototype.slice.call(e);var b=v(e[0]).find("input");e=v(e[e.length-1]).find("input");this.keyDownEventHandler=z.bind(this,b,e);document&&document.addEventListener("keydown",this.keyDownEventHandler);c.delay(function(){b&&b.focus()})}function F(){if(this.mainViewDimContainer){var c=this.mainViewDimContainer.parent().find(".tp-side-sheet-link-container a")[0];document&&document.removeEventListener("keydown",this.keyDownEventHandler);c&&c.focus()}}function z(c,
b,a){a.code&&"tab"===a.code.toLowerCase()&&(a.shiftKey?document&&document.activeElement===c[0]&&(a.preventDefault(),b.focus()):document&&document.activeElement===b[0]&&(a.preventDefault(),c.focus()))}function p(c){var b=v("#desktop-configurator-side-sheet-content-header").clone();b.removeClass("aok-hidden");b.find(".dim-name").text(c.dimensionDisplayText+":");b.find(".dim-value").text(c.displayValueText);var a=c.optionsText;a&&b.find(".dim-options").text(a.replace("###options",c.totalValueCount));
return b}var v=c.$,B=m.sideSheetSelectors,q=m.loggingConstants;r.prototype={open:function(e){this.activeDimKey=e.dimKey;this.sideSheetData=e;var b=v("#inline-twister-row-"+e.dimKey+" #tp-inline-twister-dim-values-container"),a=b.find(".desktop-configurator-dim-row-0"),k=v("#side-sheet-loader-container").clone().removeClass("aok-hidden"),l=k.find(".loader-container"),h=k.find("#side-sheet-loader").clone().removeClass("aok-hidden"),d;if(e.isTextSwatch)b=a.width()-m.BORDER_WIDTH,d=a.height()-m.BORDER_WIDTH;
else{var t=b.find(".inline-twister-swatch").not(".aok-hidden").not(".swatch-prototype");d=a.find(".swatch-image-container");b=d.outerWidth();d=d.outerHeight();t=Math.abs((t.width()-a.find(".swatch-image-container").outerWidth())/2)-m.BORDER_WIDTH;h.css("margin-right",t+"px");h.css("margin-left",t+"px")}h.width(b);h.height(d);c.each(a,function(){l.append(h.clone().addClass("side-sheet-loader-1"))});a=l.clone();a.find(".side-sheet-loader-1").removeClass("side-sheet-loader-1").addClass("side-sheet-loader-2");
k.append(a);e=p(e);k.prepend(e);this.sideSheet.open(k[0].outerHTML)},update:function(c){this.mainViewDimContainer=v("#inline-twister-row-"+c.dimKey+" #tp-inline-twister-dim-values-container");var b=this.mainViewDimContainer.clone(),a=b.find(B.DIMENSION_VALUES_LIST);a.attr("id",c.dimKey+"dim_list");var k=p(c);b.prepend(k);a.children().slice(1).removeClass("aok-hidden");a.attr("data-a-button-group",'{"name":"sec_'+c.dimKey+'"}');this.sideSheet.updateContent(b[0].outerHTML);c=this.sideSheet.container;
this.swatchList=c.find(B.DIMENSION_VALUES_LIST).children().slice(1);n(this.swatchList,this.activeDimKey);this.dimValContainer=c.find(".desktop-configurator-side-sheet-content-header .dim-value");w.call(this,this.swatchList)},close:function(){this.sideSheet.close()},registerToggleButtonGroup:function(e,b,a){var k=B.SEC_VIEW_TOGGLE_BUTTON_PREFIX+e,l=this;this.updateSideSheetStatus[e]=a;c.on("a:button-group:"+k+":toggle",function(a){l.sideSheet.close();a.selectedButton.buttonGroupName=e;b(a.selectedButton,
e)})},updateDimVal:function(c){this.dimValContainer.length&&this.dimValContainer.text(c.subText)},refreshWidth:function(){var c=v("#twister-plus-inline-twister-container")[0].getBoundingClientRect().width+this.scrollbarWidth;this.sideSheet.updateWidth(c+m.SIDE_SHEET_PADDING)},getScrollbarWidth:function(){if(this.scrollbarWidth)return this.scrollbarWidth;var c=document.body?A.innerWidth-document.body.clientWidth:-1;0>c&&(c=m.DEFAULT_SCROLLER_WIDTH);return c}};return r});"use strict";y.when("A","a-popover",
"desktop-configurator-constants","twister-plus-desktop-configurator-mark-render").register("desktop-configurator-popover-factory",function(c,m,u){function r(a){var b=z("\x3cdiv /\x3e"),c=z("\x3cspan /\x3e"),k=a.title,f=a.isImageSwatch,e=!a.hideSlots;b.addClass("desktop-configurator-popover-content");c.addClass("desktop-configurator-title-block a-size-base a-color-base a-text-bold");c.text(k);b.append(c);f&&(c=z("\x3cdiv /\x3e"),f=z("\x3cimg /\x3e"),f.attr("src",a.image),f.attr("data-a-image-source",
a.image),f.attr("alt",k),c.append(f),b.addClass("visual-dimension"),c.addClass("desktop-configurator-image-block"),b.prepend(c));e&&g(b,a.slotNode);return b}function g(a,b){b=b.clone();var c=z("\x3cdiv /\x3e");a.find(".desktop-configurator-slot-block").remove();c.addClass("desktop-configurator-slot-block");c.html(b);n(c);a.append(c)}function n(b){var d=b.find(".price_slot_ppu"),e=b.find("#ms3slot"),g=b.find(".twister_swatch_price"),f=b.find("#twisterAvailability"),p=b.find("#deliveryPromisePrefix"),
n=b.find(".variationReviewsSection"),q=b.find(".default-slot-unavailable");b=b.find(".loading-indicator-1");var m={variationReviews:n,price:g,ms3:e,twisterAvailability:f.parent(),deliveryPromise:p.parent(),ppu:d};b.length&&(b.addClass("loading-indicator-in-popover"),0===a.length?b.addClass("aok-hidden"):b.removeClass("aok-hidden"));c.each(k,function(b){m[b]&&(-1===a.indexOf(b)?m[b].addClass("aok-hidden"):(m[b].removeClass("aok-hidden"),b=l[b+"_styleSlot"],"function"===typeof b&&b.call(this,m)))});
q.length&&q.removeClass("a-size-small").addClass("a-size-base")}function w(a,b,k,e){k=r({slotNode:k.slotNode,title:k.title,isImageSwatch:k.isImageSwatch,image:k.image,hideSlots:e});b=m.create(b,{name:a,inlineContent:k,closeButton:!1,padding:"none",activate:"none",restoreFocusOnHide:!1});p[a]=b;v[a]||(c.on("a:popover:afterShow:"+a,function(a){c.delay(function(){z(q.DIMENSION_VALUES_LIST).removeClass("stop-scrolling-dc")})}),v[a]=!0);return b}function y(a,b,c){if(a=p[a])b=r({slotNode:b.slotNode,title:b.title,
isImageSwatch:b.isImageSwatch,image:b.image,hideSlots:c}),a.update({content:b});return a}var z=c.$,p={},v={},B=u.POPOVER_DELAY,q=u.sideSheetSelectors,e=null,b=null,a=[],k=u.CONFIGURED_SLOTS,l={price_styleSlot:function(a){var b=a.ms3,c=a.ppu;a=a.price;a.length&&(a.find(".a-size-base").removeClass("a-size-base").addClass("a-size-large"),c.length&&c.removeClass("a-size-micro").addClass("a-size-small"),b.length&&(c=a.find(".twisterSwatchPrice"),c.length&&c.after(b),b.after("\x3cbr /\x3e")))},ms3_styleSlot:function(a){a=
a.ms3;a.length&&a.find(".a-icon-mini").removeClass("a-icon-mini").addClass("a-icon-small")},twisterAvailability_styleSlot:function(a){a=a.twisterAvailability;a.length&&a.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base")}};return{show:function(a,d,k,l){e=this.exists(a)?y.call(this,a,k,l):w.call(this,a,d,k,l);clearTimeout(b);var f=this;b=c.delay(function(){z(q.DIMENSION_VALUES_LIST).addClass("stop-scrolling-dc");e&&e.show();f.updateIfCurrentlyActive(a,k.slotNode)},B)},exists:function(a){return!!p[a]},
hide:function(a){(a=p[a])&&a.hide();e=null;clearTimeout(b)},updateIfCurrentlyActive:function(a,b){e&&e.$container&&e.attributes.name===a&&(a=e.$container.find(".desktop-configurator-popover-content"),g(a,b))},destroy:function(a){p[a]&&m.remove(a);delete p[a];clearTimeout(b)},setVisibleSlotConfig:function(b){a=b}}});"use strict";y.when("A").register("desktop-configurator-twister-register",function(){var c=[];return{registerModifier:function(m){c.push(m)},executeModifiers:function(m){c.forEach(function(c){c.modify&&
"function"===typeof c.modify&&c.modify(m)})}}});"use strict";y.when("A","desktop-configurator-constants").register("desktop-configurator-widgets-factory",function(c,m){var u=c.$,r=m.widgetSelectors,g=m.classes,n=m.cssConstants,w=m.loggingConstants,F=function(){function g(){var b=u(r.IMAGE_THUMBNAIL).attr("src");return b&&b.length&&(b=b.split("."),2<b.length)?b[b.length-2]:!1}function e(b,a,c){var e=b.find(".a-button");a&&!c?(e.addClass("text-swatch-button-with-slots"),e.removeClass("text-swatch-button"),
b.find("hr").show()):(e.removeClass("text-swatch-button-with-slots"),e.addClass("text-swatch-button"),b.find("hr").hide())}return{alignTextSwatches:function(b,a,k){var e=0,h,d;c.each(b,function(b){b.domNode&&(b.isVisible||a||k)&&(h=b.domNode.attr("data-idxInToggleSwatchList"),d=k?u("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+h+"]"):b.domNode,b=d.find(".swatch-title-text-display"),b.length&&b[0].style.removeProperty("height"),b=b?b.height():0,e<b&&(e=b))});c.each(b,function(b){b.domNode&&
(b.isVisible||a||k)&&(h=b.domNode.attr("data-idxInToggleSwatchList"),d=k?u("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+h+"]"):b.domNode,d.find(".swatch-title-text-display").height(e))})},createSwatch:function(b,a,c,l,h){var d=!a.unavailable,g=a.isVisible,p=a.selected,f=a.showSlot,n=a.slotHtm,m="#"+c,q=u(m).closest(r.SWATCH_NODE_SELECTOR);if(q.length)return c=q.clone(),c.removeClass("swatch-prototype"),h&&c.addClass("slots-hidden"),c.attr("data-idxInToggleSwatchList",
l),c.find(m).attr("id",a.id),c.find(m+"-announce").attr("id",a.id+"-announce"),c.find("input").attr("name",a.name),c.find("input").attr("aria-labelledby",a.id+"-announce"),c.find("text"===b?".swatch-title-text-display":"square_image"===b?".swatch-title-text":".swatch-text").text(a.text),d||c.find("#"+a.id).addClass("a-button-unavailable"),p&&c.find("#"+a.id).addClass("a-button-selected"),"text"!==b&&(l=c.find(".swatch-image"),l.addClass("inline-twister-manual-load"),l.attr("data-a-image-source",a.image||
""),l.attr("id","inline-twister-image-"+a.name),l.attr("alt",a.text),a.hiResImage&&""!==a.hiResImage&&l.attr("data-a-hires",a.hiResImage||"")),l=c.find(".dimension-slot-info"),l.length&&(l.attr("id","dimension-slot-info-"+a.name),f?d?0<n.length&&l.html(n):l.html(a.defaultSlotUnavailable):c.find("text"===b?".slots-padding":".dimension-slot-info").addClass("aok-hidden"),"text"===b&&e(c,f,h)),q.parent().append(c),g||c.addClass("aok-hidden"),c},getThumbnailImageUrlForPhysicalId:function(b){return b&&
b.length&&(b=b.split("."),2<b.length)?(b.splice(-2,1,g()),b.join(".")):!1},updateSlotSectionInTextSwatch:e}}(),z=function(p){function e(b,a,c,e,h){this.id=b.id;this.unavailable=!!b.unavailable;this.selected=!!b.selected;this.showSlot=b.showSlot;this.slotHtm=b.slotHtm;this.isImageSwatch=!a;this.asin=b.asin;this.pageUrl=b.pageUrl;this.hideSlotsFromMainView=h;(this.domNode=p.createSwatch(a?"text":b.isCirclularImageSwatch?"circular_image":"square_image",b,c,e,h))?(this.slotNode=this.domNode.find(r.SLOT_NODE_SELECTOR),
this.toggleButton=this.domNode.find(r.TOGGLE_BUTTON_SELECTOR),this.topPosition=(e=this.domNode.position())?e.top:0):y.log("Prototype swatch not found. Dimension Name: "+c,w.ERROR,w.ATTRIBUTION);this.highResImageUrl=b.hiResImage;this.isVisible=b.isVisible;this.imageUrl=b.image;this.popoverImage=b.popoverImage;this.isSlotVisible=!0;this.slotNodeIdentifier=a?".slots-padding":".dimension-slot-info";this.title=b.text;this.name=b.name;this.subscribeToHoverEvent(c)}e.prototype={setState:function(b,a,c,e){this.selected=
!!b.selected;this.updateAvailablity(b);this.updateSlotNode(b,a,c);this.updateVisibility(b);this.updateSwatchIndexInDomNode(e);return this},getSlotNode:function(b){if(!b)return this.slotNode;b=this.slotNode?this.slotNode.attr("id"):"";return u("#desktop-configurator-side-sheet").find("#"+b)},updateSlotNode:function(b,a,c){this.showSlot!==b.showSlot&&((this.showSlot=b.showSlot)?this.domNode.find(this.slotNodeIdentifier).removeClass("aok-hidden"):this.domNode.find(this.slotNodeIdentifier).addClass("aok-hidden"),
this.isImageSwatch||p.updateSlotSectionInTextSwatch(this.domNode,this.showSlot,this.hideSlotsFromMainView));this.slotHtm!==b.slotHtm&&(a&&u("#tp-inline-twister-sec-view-"+c+" #"+this.slotNode.attr("id")).html(b.slotHtm),this.slotNode.html(b.slotHtm),this.slotHtm=b.slotHtm)},updateAvailablity:function(b){(this.unavailable=b.unavailable)?this.toggleButton.addClass(g.A_BUTTON_UNAVAILABLE):this.toggleButton.removeClass(g.A_BUTTON_UNAVAILABLE)},updateSelection:function(){this.selected?(this.toggleButton.addClass(g.A_BUTTON_SELECTED),
this.toggleButton.removeClass(g.A_BUTTON_UNAVAILABLE)):(this.toggleButton.removeClass(g.A_BUTTON_SELECTED),this.toggleButton.removeClass(g.A_BUTTON_FOCUS))},updateVisibility:function(b){b.isVisible?this.domNode.removeClass(g.AOK_HIDDEN):this.domNode.addClass(g.AOK_HIDDEN);this.isVisible=b.isVisible},subscribeToHoverEvent:function(b){b="desktop-configurator-swatch-hover:"+b;try{c.declarative.remove(this.domNode,b),c.declarative.create(this.domNode,b,{})}catch(a){y.log("Hover event subscribe failed with error: "+
this.name,w.ERROR,w.ATTRIBUTION)}},updateSwatchIndexInDomNode:function(b){this.domNode&&this.domNode.attr("data-idxInToggleSwatchList",b)},getTopPosition:function(){var b=this.domNode.position();return this.topPosition=b?b.top:this.topPosition||0}};return e}(F),p=function(p,e){function b(a,b,e,h){var d=this;this.isTextSwatch=a.isTextSwatch;this.name=a.name;this.domNode=u(r.EXPANDER_CONTENT_PREFIX+a.name);this.title=h;this.selectedSwatch=null;this.swatches={};this.initialVisibleSwatchList={};this.swatchIdxOrder=
[];this.isPageRefreshActive=!1;this.onChange=a.onChange;this.hoverHandler=a.onHover;this.isUserInteracting=!1;this.autoNotificationCallback=b.autoNotificationCallback;this.rowContainer=e;this.swatchListContainer=this.domNode.find(r.DIMENSION_VALUES_LIST);this.markAutoUpdated=!1;this.hideSlotsFromMainView=a.hideSlotsFromMainView;this.windowResizeCallback=b.windowResizeCallback;this.displaySwatches=[];this.numberOfSwatchesPerRow=0;c.on("a:button-group:"+this.name+":toggle",function(a){var b=parseInt(a.selectedButton.buttonName,
10),c=d.swatches[b];c?d.isPageRefreshActive?(d.isUserInteracting=!0,b=c.unavailable,c.updateSelection(),d.autoNotificationCallback&&d.autoNotificationCallback(b,!0),d.onChange&&d.onChange(d.swatches,a.selectedButton,d.markAutoUpdated),d.setAutoUpdated(!1)):c.pageUrl&&(A.location.href=c.pageUrl):(a="Selected swatch not found on toggle button click. Value clicked: "+b+" ; Swatch length: "+Object.keys(d.swatches).length,y.log(a,w.ERROR,w.ATTRIBUTION))});this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+
a.name);this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+a.name+"_sec",!0);if(this.isTextSwatch)c.on("resize",function(){d.repopulateDisplaySwatches();d.alignTextSwatches();"function"===typeof d.windowResizeCallback&&d.windowResizeCallback(d.name)})}b.prototype={setState:function(a,b,l,h){var d=this,g,p=[],f=[],n=[];c.objectIsEmpty(b)||(c.each(b,function(b,c){d.swatches[c]||!a.swatches[c].isVisible&&!l||(d.swatches[c]=new e(a.swatches[c],d.isTextSwatch,d.name,c,d.hideSlotsFromMainView),
!d.isTextSwatch&&d.swatches[c]&&d.swatches[c].domNode&&n.push(d.swatches[c].domNode.find(".inline-twister-manual-load")[0]));f[b]=c}),this.swatchIdxOrder=f,h||(this.resetToggleSwatchContainer(),this.displaySwatches=[]),c.each(this.swatchIdxOrder,function(a,b){if(a=d.swatches[a])a&&d.swatchListContainer.append(a.domNode),a&&a.subscribeToHoverEvent(d.name),d.addToDisplaySwatches(a,d.displaySwatches)}),this.isTextSwatch&&this.alignTextSwatches());c.each(a.swatches,function(a,b){if(d.swatches[b])g=a.selected?
d.swatches[b]:g,d.swatches[b].selected=!!a.selected,p.push({index:b,data:a});else{if(a.isVisible||l)d.swatches[b]=new e(a,d.isTextSwatch,d.name,b,d.hideSlotsFromMainView),d.addToDisplaySwatches(d.swatches[b],d.displaySwatches),!d.isTextSwatch&&d.swatches[b]&&d.swatches[b].domNode&&n.push(d.swatches[b].domNode.find(".inline-twister-manual-load")[0]);a.selected&&(g=d.swatches[b])}});this.selectedSwatch&&this.selectedSwatch.updateSelection();g&&g.updateSelection();c.each(p,function(a,b){d.swatches[a.index].setState(a.data,
l,d.name,a.index)});d.selectedSwatch&&g&&d.selectedSwatch!==g&&!d.isUserInteracting&&d.autoNotificationCallback(!0);d.selectedSwatch=g;d.isUserInteracting=!1;n.length&&c.loadImageManually(n);return this},getSlotNodes:function(a){return c.map(this.displaySwatches,function(b){return c.map(b,function(b){return b.getSlotNode(a)})})},setUserInteracting:function(a){this.isUserInteracting=a},alignTextSwatches:function(a,b){c.each(this.displaySwatches,function(c){p.alignTextSwatches(c,a,b)})},resetToggleSwatchContainer:function(){var a=
u(this.domNode.find(".a-button-list").children()[0]);this.swatchListContainer.html("");this.swatchListContainer.append(a)},getVisibleSwatchesSize:function(){var a=0;c.each(this.swatches,function(b,c){b.isVisible&&(a+=1)});return a},setAutoUpdated:function(a){this.markAutoUpdated=a},getInitialVisibleSwatchList:function(){return this.initialVisibleSwatchList},getNumberOfSwatchesPerRow:function(){return this.numberOfSwatchesPerRow},setNumberOfSwatchesPerRow:function(a){a&&(this.numberOfSwatchesPerRow=
a)},createSwatch:function(a,b){var c,h,d=g.ROW_IDENTIFIER_PREFIX,p=0===this.displaySwatches.length;c=new e(a,this.isTextSwatch,this.name,a.name,this.hideSlotsFromMainView);this.swatches[a.name]=c;this.initialVisibleSwatchList[a.name]=c;this.selectedSwatch=a.selected?c:this.selectedSwatch;a=p?[]:this.displaySwatches[this.displaySwatches.length-1];h=p?{}:a[a.length-1]?a[a.length-1]:{};if(p||0<this.numberOfSwatchesPerRow)this.addToDisplaySwatches(c,this.displaySwatches);else if(c.topPosition!==h.topPosition){this.numberOfSwatchesPerRow=
this.displaySwatches[0].length;this.addToDisplaySwatches(c,this.displaySwatches);1===b&&c.updateVisibility({isVisible:!1});try{this.adjustSwatchWidthAndSpacing("."+d+0,this.displaySwatches[0][0].domNode,this.displaySwatches[1][0].domNode)}catch(n){y.log("Swatch width adjustment failed for dimension: "+this.name,w.ERROR,w.ATTRIBUTION)}}else c.domNode&&c.domNode.addClass(d+(this.displaySwatches.length-1).toString()),a.push(c);return c},activatePageRefresh:function(){this.isPageRefreshActive=!0},getSwatch:function(a){return this.swatches[a]?
this.swatches[a]:{}},registerHoverDeclarative:function(a,b){var e=this;c.declarative(a,"mouseenter mouseleave",function(a){var c=a.$currentTarget[0].getAttribute("data-idxInToggleSwatchList"),c=e.getSwatch(c);a.data={slotNode:a.$currentTarget.find(c.slotNodeIdentifier),isImageSwatch:c.isImageSwatch,unavailable:c.unavailable,showSlot:c.showSlot,selected:c.selected,title:c.title,name:c.name,id:b?c.id+"_sec":c.id,image:c.popoverImage};e.hoverHandler(e.name,a)})},addToDisplaySwatches:function(a,b){var c=
g.ROW_IDENTIFIER_PREFIX;if(0===b.length)b.push([a]);else{var e=b[b.length-1];e&&e.length===this.numberOfSwatchesPerRow?b.push([a]):e.push(a)}this.removeSwatchRowIdentifier(a);a.domNode&&a.domNode.addClass(c+(b.length-1).toString())},adjustSwatchWidthAndSpacing:function(a,b,c){a=this.domNode.find(a);var e=this.domNode.find(".swatch-prototype"),d=this.domNode[0].getBoundingClientRect().width-1;b=b.width();var g=this.getNumberOfSwatchesPerRow(),d=d-(b*g+(this.isTextSwatch?m.TEXT_SWATCH_MARGIN_RIGHT:
0)*g);0<d&&(d=parseFloat(d/g),b+=d,a.find(".a-button").width(b),c.find(".a-button").width(b),e.find(".a-button").width(b))},repopulateDisplaySwatches:function(){var a=[],b=0,e,h=this;c.each(this.displaySwatches,function(d,p){c.each(d,function(c,d){0===a.length?a.push([c]):0===b?(e=a[0][a[0].length-1],c.getTopPosition()!==e.getTopPosition()?(b=a[0].length,h.numberOfSwatchesPerRow=b,h.addToDisplaySwatches(c,a)):(a[0].push(c),h.removeSwatchRowIdentifier(c),c.domNode&&c.domNode.addClass(g.ROW_IDENTIFIER_PREFIX+
(0).toString()))):h.addToDisplaySwatches(c,a)})});0===b&&(this.numberOfSwatchesPerRow=b=a[0].length);this.displaySwatches=a},removeSwatchRowIdentifier:function(a){a.domNode&&a.domNode.removeClass(function(a,b){return(b.match(/(^|\s)desktop-configurator-dim-row-\S+/g)||[]).join(" ")})}};return b}(F,z),v=function(g){function e(b){this.mainText=b.mainText;this.subText=b.subText;this.dimKey=b.dimKey;this.titleSelectorPrefix=b.titleSelectorPrefix;this.titleValueSelector=b.titleValueSelector;this.domNode=
u("#"+this.titleSelectorPrefix+this.dimKey)}e.prototype={refresh:function(){this.domNode.find("."+this.titleValueSelector).text(this.subText);this.domNode.removeClass("twister-plus-inline-twister-dim-required twister-plus-inline-twister-dim-required-delay")},setState:function(b){return c.equals(b,u.extend({},this))?this:(u.extend(this,b),this.refresh())},getData:function(){return{mainText:this.mainText,subText:this.subText}}};return e}(F),B=function(p,e,b){function a(a,b,h,d,p){function m(){q.css(n.BG_COLOR,
n.GREEN_BG_COLOR);c.delay(function(){c.animate(q,{"background-color":n.WHITE_BG_COLOR},200)},1E3)}var f=this;this.inlineTwisterData=h.inlineTwisterData;this.title=b?new e(b):null;this.dimKey=h.dimKey;this.domNode=u("#"+a+this.dimKey);this.showSlot=h.showSlot;this.isExpanded=!1;this.logger=p;this.isInlineExpanded=this.markAutoUpdated=!1;this.expanderContent=f.domNode.find(r.EXPANDER_CONTENT_PREFIX+this.dimKey);this.expanderHeader=f.domNode.find(r.EXPANDER_HEADER_PREFIX+this.dimKey);this.icon=f.domNode.find(r.DIMENSION_EXPANDER_ICON_PREFIX+
this.dimKey);this.expandedText=f.domNode.find(r.EXPANDED_DIMENSION_TEXT_PREFIX+this.dimKey);this.collapsedText=f.domNode.find(r.COLLAPSED_DIMENSION_TEXT_PREFIX+this.dimKey);this.rowCallbacks=d;this.autoNotificationExpanded=f.domNode.find(r.AUTO_NOTIFICATION_EXPANDED);this.autoNotificationExpandedText=f.autoNotificationExpanded.text();this.imageThumbnail=f.domNode.find(r.IMAGE_THUMBNAIL);this.expanderContent&&this.expanderContent.css("visibility","hidden");this.secViewIngressIcon=f.domNode.find(".inline-twister-secondary-view-see-all-link");
this.titleNode=this.domNode.find(".inline-twister-dim-title-value-truncate-expanded")[0];this.sideSheetLink=this.domNode.find(".tp-side-sheet-link-container");this.inlineExpansionLink=this.domNode.find(".tp-inline-expansion-link");var q=this.domNode.find(".dimension-heading");this.autoNotificationCallback=function(a,b){var c=f.autoNotificationExpandedText;a?f.isExpanded&&b?(f.autoNotificationExpanded.find("."+g.A_COLOR_ATTAINABLE).html(c),f.autoNotificationExpanded.removeClass(g.AOK_HIDDEN)):(m(),
f.setAutoUpdated(!0)):f.hideAutoNotification()};this.inlineTwisterData&&!this.inlineTwisterData.disableCollapseFunctionality&&c.declarative("toggle-dimension-expander-"+this.dimKey,"click",function(a){f.isExpanded?f.collapse():f.expand();f.hideAutoNotification()})}a.prototype={setState:function(a,b,c,d,e,p){this.toggleSwatch&&c!==this.dimKey&&this.autoNotificationExpanded.addClass(g.AOK_HIDDEN);a&&this.toggleSwatch&&this.toggleSwatch.setState(a,b,e,p);e||d&&this.title&&this.title.setState(d)},expand:function(){this.expanderContent&&
this.expanderContent.css("visibility","");this.expanderContent&&this.expanderContent.addClass(g.DIMENSION_EXPANDER_CONTENT_EXPAND);this.icon&&this.icon.addClass(g.ROTATE);this.expandedText&&this.expandedText.removeClass(g.AOK_HIDDEN);this.collapsedText&&this.collapsedText.addClass(g.AOK_HIDDEN);this.imageThumbnail.addClass(g.AOK_HIDDEN);this.isExpanded=!0;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,
!0);if(this.expanderHeader){var a=this.inlineTwisterData.stringTranslationMap?this.inlineTwisterData.stringTranslationMap.expanderHeaderAriaLabel:"",b=this.title.getData(),a=a.replace("###dimension",b.mainText).replace("###value",b.subText),a=a+" "+(this.inlineTwisterData.stringTranslationMap?this.inlineTwisterData.stringTranslationMap.tapToCollapse:"");this.expanderHeader.attr("aria-label",a)}this.markAutoUpdated&&(this.logger.logDimExpansionAfterAutoUpdate(),this.markAutoUpdated=!1)},collapse:function(){this.expanderContent&&
this.expanderContent.removeClass(g.DIMENSION_EXPANDER_CONTENT_EXPAND);this.expanderContent&&this.expanderContent.css("visibility","hidden");this.icon&&this.icon.removeClass(g.ROTATE);this.expandedText&&this.expandedText.addClass(g.AOK_HIDDEN);this.collapsedText&&this.collapsedText.removeClass(g.AOK_HIDDEN);this.imageThumbnail.removeClass(g.AOK_HIDDEN);this.isExpanded=!1;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.rowCallbacks.handleDimensionExpansion(a,
this.showSlot,!1);this.autoNotificationExpanded.addClass(g.AOK_HIDDEN);if(this.expanderHeader){var a=this.inlineTwisterData.stringTranslationMap?this.inlineTwisterData.stringTranslationMap.expanderHeaderAriaLabel:"",b=this.title.getData(),a=a.replace("###dimension",b.mainText).replace("###value",b.subText),a=a+" "+(this.inlineTwisterData.stringTranslationMap?this.inlineTwisterData.stringTranslationMap.tapToExpand:"");this.expanderHeader.attr("aria-label",a)}},setUserInteracting:function(a){this.toggleSwatch&&
this.toggleSwatch.setUserInteracting(a)},setExpanderHeaderAriaLabel:function(a,b){a=this.expanderHeader.attr("aria-label").replace(a.subText,b.subText);this.expanderHeader.attr("aria-label",a)},setThumbnailImage:function(a){(a=p.getThumbnailImageUrlForPhysicalId(a))&&this.imageThumbnail.attr("src",a)},setAutoUpdated:function(a){this.markAutoUpdated=a;this.toggleSwatch&&this.toggleSwatch.setAutoUpdated(a)},getInitialVisibleSwatchList:function(){return this.toggleSwatch?this.toggleSwatch.getInitialVisibleSwatchList():
{}},getSwatch:function(a){return this.toggleSwatch?this.toggleSwatch.getSwatch(a):{}},activatePageRefresh:function(){this.toggleSwatch&&this.toggleSwatch.activatePageRefresh()},showInlineExpansionLink:function(){this.inlineExpansionLink.removeClass("aok-hidden")},hideInlineExpansionLink:function(){this.inlineExpansionLink.addClass("aok-hidden")},showSideSheetLink:function(){this.sideSheetLink.removeClass("aok-hidden")},setMaxHeight:function(a){this.expanderContent.css("max-height",a)},triggerExpandOrCollapseAnimation:function(a,
b,c){var d=this;this.expanderContent.animate({"max-height":a+"px"},b,function(){d.setMaxHeight("");c&&c()})},getDisplaySwatches:function(){return this.toggleSwatch?this.toggleSwatch.displaySwatches:[]},hideAutoNotification:function(){this.autoNotificationExpanded.addClass(g.AOK_HIDDEN)},initializeComponents:function(a,e,h){if(!this.toggleSwatch&&a){var d=this.title.getData();this.toggleSwatch=new b(a,{windowResizeCallback:h.handleWindowResize,autoNotificationCallback:this.autoNotificationCallback},
this.domNode,d.mainText)}this.isTextSwatch=a?a.isTextSwatch:!0;this.rowCallbacks=c.extend(this.rowCallbacks,h);this.showSlot=e;var g=this;c.declarative("open-desktop-configurator-side-sheet:"+this.dimKey,"click",function(){"function"===typeof g.rowCallbacks.showSideSheet&&(g.rowCallbacks.showSideSheet(g.dimKey,g.showSlot,g.title.getData()),g.hideAutoNotification())});c.on("a:expander:desktop-configurator-inline-expansion:"+this.dimKey+":toggle:expand",function(){"function"===typeof g.rowCallbacks.toggleInlineExpansion&&
(g.rowCallbacks.toggleInlineExpansion(g.dimKey,g.showSlot,!0),g.hideAutoNotification(),g.isInlineExpanded=!0)});c.on("a:expander:desktop-configurator-inline-expansion:"+this.dimKey+":toggle:collapse",function(){"function"===typeof g.rowCallbacks.toggleInlineExpansion&&(g.rowCallbacks.toggleInlineExpansion(g.dimKey,g.showSlot,!1),g.hideAutoNotification(),g.isInlineExpanded=!1)})}};return a}(F,v,p);return{Swatch:z,ToggleSwatch:p,Title:v,Row:B,utils:F}});"use strict";y.when("A","detail-page-side-sheet-handlers").register("detail-page-side-sheet",
function(c,m){function u(c){var n=c.id&&"string"===typeof c.id,r=1===A("#"+c.id).length;if(n&&r)this.id=c.id,this.shouldRenderHTMLString=!!c.shouldRenderHTMLString,this.animationDuration=c.animationDuration||300,this.container=m.getContainer(c.id),this.onBeforeShow=c.onBeforeShow,this.onAfterHide=c.onAfterHide,n=c.width||580,(r=this.container)&&r.width(n),w(c.id,n),g.call(this);else throw c="Side sheet initialisation failed: "+(n?"Side sheet not present in DOM, or multiple instances of side sheet ID "+
c.id+" exist":"Invalid Side sheet ID"),y.log(c,"ERROR","DetailPageSideSheet"),c;}function r(c){var g=this.container;c=this.shouldRenderHTMLString?A(c):A(c).clone();g.html(c);c.css("display","block");g.removeClass("aok-hidden")}function g(){var g=this;c.declarative("close-detail-page-side-sheet:"+this.id,"click",function(){g.close()});c.declarative("open-detail-page-side-sheet:"+this.id,"click",function(c){g.open(c&&c.data?c.data.content:null)})}function n(c){c.code&&"escape"===c.code.toLowerCase()&&
(this.close(),document&&document.removeEventListener("keydown",z))}function w(c,g){c=A("#"+c+"-background .close-button");c.length&&(c[0].style.marginRight=g+10+"px")}var A=c.$,z=null;u.prototype={open:function(c){if(c&&"string"===typeof c){r.call(this,c);if(this.onBeforeShow)this.onBeforeShow();m.showSideSheet(this.id,this.animationDuration);z=n.bind(this);document&&document.addEventListener("keydown",z)}else y.log("Invalid side sheet content. Side sheet ID: "+this.id,"ERROR","DetailPageSideSheet")},
close:function(){m.closeSideSheet(this.id,this.animationDuration);m.resetSideSheetContainer(this.container);if(this.onAfterHide)this.onAfterHide()},updateWidth:function(c){var g=this.container;g&&g.width(c);w(this.id,c)},updateContent:function(c){c&&"string"===typeof c?r.call(this,c):y.log("Invalid side sheet content. Side sheet ID: "+this.id,"ERROR","DetailPageSideSheet")}};return u});"use strict";y.when("A").register("detail-page-side-sheet-handlers",function(c){function m(c,m){g("#"+c+" .detail-page-side-sheet-content").show(function(){r({right:"0px"},
c,m)})}function u(c,m){g("#"+c+" .detail-page-side-sheet-content").show(function(){r({right:"-600px"},c,m)})}function r(n,m,r){c.animate(g("#"+m+" .detail-page-side-sheet-content"),n,r)}var g=c.$;return{showSideSheet:function(c,r){g("body").css("overflow","hidden");g(".detail-page-side-sheet-darken-bg").removeClass("aok-hidden");g("#"+c).removeClass("aok-hidden");m(c,r)},closeSideSheet:function(c,m){u(c,m);g(".detail-page-side-sheet-darken-bg").addClass("aok-hidden");g("#"+c).addClass("aok-hidden");
g("body").css("overflow","scroll")},getContainer:function(c){return g("#"+c).find(".detail-page-side-sheet-content")},resetSideSheetContainer:function(c){c.html("")}}})});