(function(h){var g=window.AmazonUIPageJS||window.P,m=g._namespace||g.attributeErrors,f=m?m("TradeInInstantSavingsAssets@launcher","TradeInInstantSavingsAssets"):g;f.guardFatal?f.guardFatal(h)(f,window):f.execute(function(){h(f,window)})})(function(h,g,m){h.when("A").register("trade-in-constants",function(f){return{unauthorizedCode:401,maxTradeInItemQuantityStatusCode:204,autoCompleteUrl:"https://completion.amazon.com/api/2017/suggestions?",autoCompleteUrlSuffix:"/api/2017/suggestions?",tradeInRouteBase:"/tradein/hzw/",
appraisalInputName:"appraisal",customerIpPreferenceInputName:"instantPaymentPreference",appraisalReturn:"RETURN_WORSE",appraisalAccept:"ACCEPT_WORSE",itemSelectEligibleContext:"eligible",itemSelectSearchContext:"search",maximumTradeInItemsCount:5,tradeInSearchAlias:"ereaders",tradeInSearchPageSize:20,tanookiV2DesktopRowSize:3,tanookiV2MobileRowSize:2,tanookiV2DesktopSearchPageSize:15,tanookiV2MobileSearchPageSize:10,tradeInSearchResultsLoadContext:"onLoad",tradeInSearchResultsScrollContext:"onScroll",
sessionStorageAccessErrorMsg:"Session storage access blocked",AUTH_PORTAL_ASSOC_HANDLE:{com:"amzn_tradein_horizonte_us",uk:"amzn_tradein_horizonte_uk",de:"amzn_tradein_horizonte_de"},tradeInSecondaryViewName:"tradeInSecondaryView",tradeInModalName:"tradeInModal",tradeInSideSheetName:"tradeInSideSheet",csrfKeyMap:"csrfKeyMap",csrfQueryParam:"requestToken",csrfSearchRequestKey:"searchRequestKey",csrfReviewRequestKey:"reviewRequestKey",csrfRemoveRequestKey:"removeItemRequestKey",csrfSubmitRequestKey:"submitRequestKey",
csrfSaveGradedItemKey:"saveGradedItemRequestKey",csrfSearchAsinCategoryItemKey:"searchAsinCategoryRequestKey",validConditions:"N/A;Neutral;New;LikeNew;VeryGood;Good;Working;Acceptable;Damaged;NonFunctional;Unacceptable;Ruined;Wrong Item".split(";"),resetAllElementsEvent:"resetAllElementsEvent",priceBlockSessionStorageKey:"launchTradeInPriceBlock",tanookiSessionStorageKey:"launchTradeIn",priceBlockIngressType:"tradein-price-block",tanookiBuyboxMetric:"tanooki_launch_buy_box",tanookiBuyboxMobileMetric:"tanooki_launch_buy_box_mobile",
tanookiPriceblockMetric:"tanooki_launch_price_block",tanookiPriceblockMobileMetric:"tannoki_launch_price_block_mobile",tanookiV2PastPurchaseSelectedMetric:"tv2_past_purchase_item_selected",refTagPrefix:"dp_trdv2_is_",refTagPrefixMobile:"dp_trdv2_is_m_",refTagPriceBlockPrefix:"dp_price_block_",refTagPriceBlockPrefixMobile:"dp_price_block_m_",refTagListItemsView:"list_items_view",refTagSearchItemsView:"search_items_view",refTagConditionView:"condition_view",refTagConfirmationView:"confirmation_view",
refTagSuccessfulView:"success_view",refTagItemSelect:"item_selected",refTagItemDeSelect:"item_deselected",refTagSearchTermRequest:"search_term_request_",refTagSearchItemSelect:"search_item_select",refTagSearchItemRemoveClick:"search_remove_click",refTagBackClick:"back_click",refTagListItemsContinueClick:"list_items_continue_click",refTagGradedConditionClick:"graded_condition_",refTagAppraisalAccept:"appraisal_accept",refTagAppraisalReturn:"appraisal_return",refTagConditionContinueClick:"condition_continue_click",
refTagReviewInstantPaymentView:"review_ip_view",refTagReviewNonInstantPaymentView:"review_nip_view",refTagReviewMixedBagPaymentView:"review_mb_view",refTagChangeConditionClick:"change_condition_click",refTagDeleteClick:"delete_click",refTagReturnAddressUpdateRequest:"return_address_update_request",refTagReturnAddressUpdateView:"return_address_update_view",refTagTradeInMoreItems:"trade_more_items",refTagReturnToShopping:"return_to_shopping_click",refTagLogInPrompt:"log_in_prompt",refTagWeWantYouToKnow:"we_want_you_to_know_expanded",
refTagPromotionInformationPopoverView:"promotion_information_panel_view",refTagAppraisalLearnMorePopoverView:"appraisal_learn_more_panel_view",refTagRegisteredDevicesLearnMorePopoverView:"registered_devices_learn_more_panel_view",refTagViewDropOffLocations:"view_drop_off_locations",refTagViewUBIFLocations:"view_ubif_locations",refTagButtonExperimentPreFix:"tanooki_",refTagTanookiLaunchedWithBorder:"launched_with_border",refTagTanookiLaunchedWithOutBorder:"launched_without_border",refTagTermsAndConditions:"select_terms_and_conditions",
refTagHowToLink:"select_how_to_link",refTagPrintShippingLabel:"tv2_print_shipping_label",refTagNearbyProcessorsMobile:"nearby_processors_m",refTagNearbyProcessorsDesktop:"nearby_processors",refTagStorefront:"storefront",refTagDetailPage:"detail_page",refTagTv2:"tv2_",refTagAuthRequired:"AuthReq",refTagAuthCompleted:"AuthComp",refTagBackButton:"Back_",refTagExit:"Exit_",refTagEnd:"End",refTagChangeCondition:"ChgCond",refTagRemoveCartItem:"RmvItm",refTagHazmatError:"HazmatError",refTagIPDowngrade:"IPDowngrade",
refTagIPUpgrade:"IPUpgrade",refTagMFAFailure:"_mfaFailure",refTagMFASuccess:"_mfaSuccess",BIFURCATION_REF_TAG:["tradein-manufacturer","tradein-vg-type"],VIEW_REF_TAG:{manufacturer:"Man",model:"Mod","model-family":"ModFam","storage-size":"Stor","product-category":"product_category",carrier:"Carr","Console-Generation":"ConGen","Console-generation":"ConGen",Games:"Games",Accessories:"Access",platform:"Plat","trade-in-item-type":"IT",".refinement-search-view":"Search","#conditionViewTemplate":"Cond",
".submit-trade-in-content":"Review",".tradein-cart-view":"Cart","#tradeinReviewYourOrderNextStepTemplate":"NxtStp"},PRODUCT_GROUP_REF_TAG:{gl_wireless:"Wir",gl_electronics:"Elec",gl_video_games:"VG",gl_digital_video_games:"VG",gl_digital_products_3:"AUCC"},PRODUCT_GROUP_FLOW_REF_TAG:{gl_wireless:"WL",gl_electronics:"WL",gl_video_games:"VG",gl_digital_video_games:"VG",gl_digital_products_3:"AUCC"},APPRAISAL_REF_TAG:{ACCEPT_WORSE:"Accpt",RETURN_WORSE:"Dcln"},eligibleListViewClass:".tradein-eligible-list-view",
searchResultsListViewClass:".tradein-search-results-list-view",selectedItemConditionViewClass:".tradein-selected-item-condition-view",selectedItemsConfirmationViewClass:".tradein-selected-items-confirmation-view",successfulViewClass:".tradein-successful-view",tradeInWrapperClass:".tradein-wrapper",checkboxItemThumbTemplateId:"#checkboxItemThumbTemplate",eligibleItemTemplateId:"#eligibleItemTemplate",questionRadioButtonTemplateId:"#questionRadioButtonTemplate",questionRadioTemplateId:"#questionRadioTemplate",
radioButtonTemplateId:"#radioButtonTemplate",itemConfirmationTemplateId:"#itemConfirmationTemplate",asinDetailsViewTemplateId:"#asinDetailsViewTemplate",eligibleListViewTemplateId:"#eligibleListViewTemplate",pastPurchasedListViewTemplateId:"#pastPurchasedListViewTemplate",searchResultsListViewTemplateId:"#searchResultsListViewTemplate",searchResultItemTemplateId:"#searchResultItemTemplate",selectedItemConditionViewTemplateId:"#selectedItemConditionViewTemplate",selectedItemsConfirmationViewTemplateId:"#selectedItemsConfirmationViewTemplate",
successfulTradeInViewTemplateId:"#successfulTradeInViewTemplate",radioButtonRestrictionSelectionTemplateId:"#radioButtonRefinementSelectorViewTemplate",cardItemRestrictionSelectionViewTemplateId:"#searchRestrictionCardItemSelectionTemplate",conditionViewTemplateId:"#conditionViewTemplate",tradeinHeaderViewTemplateId:"#tradeinHeaderViewTemplate",tradeinCartHeaderTemplateId:"#tradeInCartHeaderTemplate",tradeinCartSubmitViewHeaderTemplateId:"#tradeInCartHeaderTemplateSubmitView",tradeInCartPromosTemplateId:"#tradeInCartPromosTemplate",
tradeInPromoPreviewViewTemplate:"#tradeInPromoPreviewViewTemplate",verticalComplexCardViewTemplateId:"#verticalComplexCardViewTemplate",appraisalSelectionComponentViewId:"#appraisalSelectionComponentView",promotionInformationComponentId:"#promotionInformationComponent",appraisalWrapperClass:".appraisal-wrapper",conditionAppraisalMaxTivClass:".appraisal-max-tiv",appraisalTivHeaderClass:".appraisal-tiv-header",appraisalTivPriceClass:".appraisal-tiv",termsAndAgreementViewTemplateId:"#termsAndAgreementViewTemplate",
multiItemTermsAndAgreementViewTemplateId:"#additionalItemTermsAndAgreementViewTemplate",multiItemTermsAndAgreementViewTemplateDevicesId:"#additionalItemTermsAndAgreementViewTemplateDevices",tradeinReviewYourOrderNextStepTemplateId:"#tradeinReviewYourOrderNextStepTemplate",mixedOfferNextStepsTemplateId:"#mixedOfferNextStepsTemplate",multiItemConfirmationOrderDetailsViewComponentClass:".multiItemConfirmationOrderDetailsViewComponent",wirelessHowToViewTemplateId:"#wirelessHowToViewTemplate",howToLinkHelperTitleId:"#categoryHelperTitle",
tradeinFooterComponentId:"#tradeinFooterComponent",successfulTradeInBannerComponentViewId:"#successfulTradeInBannerComponentView",restrictionSelectionViewTemplateId:"#restrictionSelectionViewTemplate",tradeInSubmitConditionButtonTemplateId:"#tradeInSubmitConditionButtonTemplate",conditionQuestionnaireListClass:".questionnaires-list",conditionQuestionContainerClass:".condition-question-container",conditionQuestionButtonSelectorClass:".question-selector-button",conditionPageEstimatedTivComponentsSelector:"#tradeinEstimateOfferComponent .estimate-component",
conditionPageFinalTivComponentsSelector:"#tradeinEstimateOfferComponent .final-component",conditionPageHeaderTivSelector:"#tradeinEstimateOfferComponent #tradeInValue",binaryQuestionnaireListViewTemplateId:"#binaryQuestionnaireListViewTemplate",searchRefinementItemSelectionTemplateId:"#searchRefinementItemSelectionTemplate",refinementSearchViewTemplateId:"#refinementSearchViewTemplate",refinementSearchInputSelector:".refinement-search-input",refinementSearchInputMobileSelector:".refinement-search-input input",
refinementSearchAllOffersCountId:"#searchAllOffersCount",refinementSearchOnlyOffersCountId:"#searchOnlyOffersCount",refinementSearchResultSelector:".refinement-selection-content .refinement-column",shipmentDetailViewComponentId:"#shipmentDetailViewComponent",dropOffBannerNoLinkComponentId:"#dropOffBannerNoLinkComponent",dropOffBannerNoLinkTemplateId:"#dropOffBannerNoLinkTemplate",dropOffLocationExpanderId:"#dropOffLocationExpander",dropOffLocationsTemplateId:"#dropOffLocationsTemplate",dropOffLocationListTemplateId:"#dropOffLocationListTemplate",
offlineMessageSectionClass:".offline-message-section",tradeInOfferOverviewTemplateId:"#tradeInOfferOverviewTemplate",categoryRefinementSelectionItemComponentId:"#categoryRefinementSelectionItemComponent",tradeinCartItemComponentId:"#tradeInCartItemComponent",shipmentDetailsHeaderComponentClass:".shipment-details-header-component",tradeinSubmitButtonComponentClass:".tradein-submit-button-container",tradeinSubmitWrapperComponentId:"#tradeinSubmitWrapper",refinementSelectionViewWrapperClass:".refinement-selection-view",
refinementContentWrapperClass:".refinement-content-wrapper",refinementSearchViewClass:".refinement-search-view",submitTradeInWrapperClass:".submit-trade-in-content",searchRestrictionWrapperClass:".search-restriction-wrapper",searchLoadMoreResultsWrapperClass:".load-more-results-wrapper",cardItemRestrictionSelectionViewClass:".restriction-selection-view",wirelessTradeInReviewYourOrderViewClass:".wireless-tradein-review-your-order-view",tradeInCartViewClass:".tradein-cart-view",tradeInCartTemplateId:"#tradeInCartViewTemplate",
tradeinCartTotalTivElement:".cart-total-tiv",tradeinCartGCValueIpElement:"#gcValueIp",tradeinCartGCValueNonIpElement:"#gcValueNonIp",tradeinCartIpItemsSection:".tradein-cart-view-ip-items",tradeinCartNonIpItemsSection:".tradein-cart-view-nip-items",tradeinCartIpItemsList:".tradein-cart-item-list-ip",tradeinCartNonIpItemsList:".tradein-cart-item-list-nip",continueConditionButtonViewClass:".continue-trigger",submitButtonViewClass:".handle-submit-your-tradein",reviewButtonViewClass:".handle-review-your-tradein",
tradeInMoreItemsButtonViewClass:".handle-trade-in-more-items",agreementCheckboxTarget:".agreement-checkbox-target",tradeInMoreItemsButtonContainerClass:".tradein-more-items-button-container",searchInputClass:".search-input",searchInputClassMobile:".search-input input",searchFormClass:".search-form",searchSuggestionsClass:".tradein-autocomplete-dropdown-menu",eligibleItemsCountId:"#eligibleItemsCount",dateRegisteredClass:".registered-date",eligibleItemListClass:".tradein-eligible-item-list",eligibleItemListWrapper:".tradein-eligible-item-list-wrapper",
searchResultListClass:".tradein-search-result-list",reviewTradeInItemsSubmitId:"#reviewTradeInItemsSubmit",customerPastDevicesPurchasesCarouselContainerId:"#customerPastDevicesPurchasesCarouselContainer",currentSelectedItemIndexId:"#currentSelectedItemIndex",selectedItemTotalCountId:"#selectedItemTotalCount",backButtonClass:".back-button",continueButtonClass:".continue-button",alertMaxItemQuantityClass:".tradein-error-quantity-limit",alertMaxItemsWarningClass:".tradein-warning-max-items",alertMaxItemsWarningClassMobile:".tradein-mobile-warning-max-items",
alertMaxGCValueWarningClass:".tradein-warning-max-gc-value",alertMaxGCValueWarningClassMobile:".tradein-mobile-warning-max-gc-value",alertPromptLoginClass:".tradein-prompt-log-in",alertItemAcceptableClass:".tradein-info-unacceptable-error",alertItemAcceptableClassMobile:".tradein-mobile-info-unacceptable-error",alertMaxItemQuantityBannerClass:".tradein-max-quantity-error",loadingSpinnerClass:".tradein-loading-spinner",loadingSideSheetSpinnerClass:".asin-selection-tradein-loading-spinner",searchLoadingSpinnerClass:".tradein-search-loading-spinner",
tradeinCartHeaderItemsSingularClass:".tradein-cart-header-items-singular",tradeinCartHeaderItemsPluralClass:".tradein-cart-header-items-plural",tradeInQuantityExceededErrorSelector:".tradein-templates .tradein-info-quantity-exceeded-error",tradeInErrorExitButtonSelector:".tradein-templates .tradein-error-exit-button",tradeInMixHazmatErrorSelector:".tradein-templates .tradein-info-mix-hazmat-error",tradeInMixHazmatCartItemErrorSelector:".tradein-templates .tradein-info-mix-hazmat-error-cart-item",
tradeInHazmatItemList:".hazmat-item-list",tradeInHazmatListItemTemplate:".hazmat-asin-list-item-template",tradeInNonTradeableErrorSelector:".tradein-templates .tradein-info-non-tradeable-error",complexCardRefinementSelectionViewType:"COMPLEX_CARD_VIEW",simpleCardRefinementSelectionViewType:"SIMPLE_CARD_VIEW",containedButtonRefinementSelectionViewType:"CONTAINED_BUTTON_VIEW",searchRefinementViewType:"SEARCH_CARD_VIEW",tradeInItemTypeEcho:"US_Echo",tradeInEchoGl:"gl_digital_products_3",tradeInWirelessGl:"gl_wireless",
tradeInVGGl:"gl_video_games",tradeInDigitalVGGL:"gl_digital_video_games",tradeInElectronicsGL:"gl_electronics",tradeInVGProductGroups:["gl_video_games","gl_digital_video_games"],wirelessVgProductGroups:["gl_wireless","gl_video_games","gl_digital_video_games","gl_electronics"],tradeInCCCardEligibleGls:["gl_wireless"],tradeInLaunchButtonDeclarativeActionSelector:"#tradeInLaunchAction",instantPaymentPreferenceInputName:"instantPaymentPreference",instantPaymentNow:"PAID_NOW",instantPaymentLater:"PAID_LATER"}});
"use strict";h.when("A","trade-in-constants","tanooki-ingress-button-treatment").register("trade-in-common-utils",function(f,e,b){var d=f.$,l={locale:null,currencyCode:null,productGroup:null,deviceType:null,asin:null,modalTitle:null,isStorefront:!1,refTagPrefix:null,refTagPrefixMobile:null,priceBlockEnabled:null,buyingPriceUpgradeAsin:null,promoDiscount:null,captureTradeInContext:function(){var a=d("#tanookiWidgetState").data("tanookiWidgetState");a?(a.hasOwnProperty("productGroup")?this.productGroup=
a.productGroup:this.recordMetric("productGroupMissing"),a.hasOwnProperty("deviceType")?this.deviceType=a.deviceType:this.recordMetric("deviceTypeMissing"),a.hasOwnProperty("tanookiTitle")?this.modalTitle=a.tanookiTitle:this.recordMetric("deviceModalHeaderMissing"),a.hasOwnProperty("asin")&&(this.asin=a.asin),a.hasOwnProperty("buyingPrice")&&(this.buyingPriceUpgradeAsin=a.buyingPrice)):this.recordMetric("widgetContextMissing")},updateTradeInContext:function(a){var c=d("#tanookiWidgetState").data("tanookiWidgetState");
c.hasOwnProperty("productGroup")&&a.hasOwnProperty("productGroup")&&(c.productGroup=a.productGroup);c.hasOwnProperty("deviceType")&&a.hasOwnProperty("deviceType")&&(c.deviceType=a.deviceType);c.hasOwnProperty("tanookiTitle")&&a.hasOwnProperty("tanookiTitle")&&(c.tanookiTitle=a.tanookiTitle);c.hasOwnProperty("asin")&&a.hasOwnProperty("asin")&&(c.asin=a.asin);c.hasOwnProperty("buyingPrice")&&a.hasOwnProperty("buyingPrice")&&(c.buyingPrice=a.buyingPrice);document.getElementById("tanookiWidgetState").dataset.tanookiWidgetState=
JSON.stringify(c);this.captureTradeInContext()},getProductGroup:function(){return this.productGroup},setRefTagPrefix:function(a){this.refTagPrefix=a},getRefTagPrefix:function(){return this.refTagPrefix?this.refTagPrefix:e.refTagPrefix},getUpgradeAsinBuyingPrice:function(){return this.buyingPriceUpgradeAsin},setRefTagPrefixMobile:function(a){this.refTagPrefixMobile=a},getRefTagPrefixMobile:function(){return this.refTagPrefixMobile?this.refTagPrefixMobile:e.refTagPrefixMobile},getCurrentAsin:function(){return this.asin},
getDeviceType:function(){return this.deviceType},getModalTitle:function(){return this.modalTitle||""},getIsStoreFront:function(){return this.isStorefront},setIsStoreFront:function(a){this.isStorefront=a},setLocale:function(a){this.locale=a},setPriceBlockEnabled:function(a){this.priceBlockEnabled=a},isPriceBlockEnabled:function(){return this.priceBlockEnabled},setPromoDiscount:function(a){this.promoDiscount=a},getPromoDiscount:function(){return this.promoDiscount},setCurrencyCode:function(a){this.currencyCode=
a},formatCurrency:function(a){this.currencyCode||this.recordError("Missing currency code","trade-in-common-utils");a=parseFloat(a);return a.toLocaleString(this.locale.replace("_","-"),{style:"currency",currency:this.currencyCode})},formatDate:function(a){if(!a)return"";a=a.split(" ");return a[0]+" "+a[1]+" "+a[2]},redirectToAuth:function(a,c){var k=g.location,b="https://"+k.host,d=k.search.replace(/\&$/,""),k=k.pathname+d+k.hash,d=b;-1<b.indexOf("aka.corp.amazon.com")&&(d="https://development.amazon.com");
a=d+"/ap/signin?_encoding\x3dUTF8\x26openid.assoc_handle\x3d"+a+"\x26openid.claimed_id\x3dhttp://specs.openid.net/auth/2.0/identifier_select\x26openid.identity\x3dhttp://specs.openid.net/auth/2.0/identifier_select\x26openid.mode\x3dcheckid_setup\x26openid.ns\x3dhttp://specs.openid.net/auth/2.0\x26openid.return_to\x3d"+b+k;try{g.sessionStorage&&sessionStorage.setItem(c,!0)}catch(e){this.recordError(e,"Session storage access blocked")}g.location.href=encodeURI(a)},redirectToMFA:function(a){var c="https://"+
g.location.host;-1<c.indexOf("aka.corp.amazon.com")&&(c="https://development.amazon.com");g.location.href=encodeURI(c+a)},getAuthPortalHandleFromHostname:function(){var a=g.location.hostname.match(/^(?:(?:(?:(\w\w)-)?pre-prod)|(?:(?:(\w\w)-)?development)|(?:.+))\.amazon.(?:(\w\w)|(com)|(?:co\.(?:(\w\w))))?$/);if(a)for(var c=1;c<a.length;c++)if(a[c])return e.AUTH_PORTAL_ASSOC_HANDLE[a[c]];return e.AUTH_PORTAL_ASSOC_HANDLE.com},recordError:function(a,c){g.ueLogError&&g.ueLogError({message:a,logLevel:"ERROR",
attribution:"tradein: "+c})},recordMetric:function(a){g.ue&&g.ue.count&&(a="tradeIn_"+a,g.ue.count(a,(g.ue.count(a)||0)+1))},findMinMaxTivInContainer:function(a){var c,b;Object.keys(a).forEach(function(d,e){d=a[d];0===e?b=c=d.tiv:(e=d.tiv,c=e<c?e:c,b=e>b?e:b)});return[c,b]},getMashModalUrl:function(a){var c="https://"+g.location.host,b="\x26cb\x3d"+Math.round((new Date).getTime()/1E3);return c+a+b},getCsrfTokenByKey:function(a,c){return c.hasOwnProperty(e.csrfKeyMap)&&c[e.csrfKeyMap][a]?c[e.csrfKeyMap][a]:
""},updateCsrfTokenByKey:function(a,c,b){c.hasOwnProperty(a)&&b.hasOwnProperty(e.csrfKeyMap)&&(b[e.csrfKeyMap][a]=c[a])},recordRefTag:function(a,c,b,d){a=c+b+this.getIngressPageRefTag()+"_"+a;d=a+"_"+this.deviceType+"_"+d;this.doRecordRefTag(a);this.doRecordRefTag(d)},recordTv2RefTag:function(a,c,b){var d="";Array.isArray(b)&&0<b.length&&(d=b.join("_")+"_");a=c+this.getTv2RefTagPrefix()+"_"+d+a+"_"+this.getTv2RefTagPostfix();this.doRecordRefTag(a)},doRecordRefTag:function(a){f.get(a,{error:d.proxy(function(a,
b,d){this.recordError(b+"::"+d,"Error encountered during refTag record request")},this)})},getIngressButtonRefTag:function(){return b.isEnabled?e.refTagTanookiLaunchedWithOutBorder:e.refTagTanookiLaunchedWithBorder},getIngressPageRefTag:function(){return this.isStorefront?e.refTagStorefront:e.refTagDetailPage},isMobileVariant:function(a){return 0<=["mobile","mobileApp","mobileWeb"].indexOf(a)},getTanookiV2RowSize:function(a){return this.isMobileVariant(a)?e.tanookiV2MobileRowSize:e.tanookiV2DesktopRowSize},
getTanookiV2SearchPageSize:function(a){return this.isMobileVariant(a)?e.tanookiV2MobileSearchPageSize:e.tanookiV2DesktopSearchPageSize},isWirelessVgProductGroup:function(a){return-1!==e.wirelessVgProductGroups.indexOf(a)},isVGProductGroup:function(a){return-1!==e.tradeInVGProductGroups.indexOf(a)},shouldLaunchTanookiV2OnPageLoad:function(){try{if(g.sessionStorage){var a=sessionStorage.getItem("launchAsinCategoryTradeIn"),b={productGroup:sessionStorage.getItem("storefront-product-group"),deviceType:sessionStorage.getItem("storefront-device-type"),
modalTitle:sessionStorage.getItem("storefront-modal-title")};b.productGroup&&this.updateTradeInContext(b);return a?(sessionStorage.removeItem("launchAsinCategoryTradeIn"),sessionStorage.removeItem("storefront-product-group"),sessionStorage.removeItem("storefront-device-type"),sessionStorage.removeItem("storefront-modal-title"),sessionStorage.removeItem("is-storefront"),!0):!1}}catch(d){this.recordError(d,"Session storage access blocked")}},getStorefrontSessionStorage:function(){try{if(g.sessionStorage&&
sessionStorage.getItem("is-storefront"))return this.isStorefront=!0}catch(a){this.recordError(a,"Session storage access blocked")}},setStorefrontSessionStorage:function(a){try{g.sessionStorage&&(a&&sessionStorage.setItem("is-storefront",!0),sessionStorage.setItem("storefront-product-group",l.getProductGroup()),sessionStorage.setItem("storefront-device-type",l.getDeviceType()),sessionStorage.setItem("storefront-modal-title",l.getModalTitle()))}catch(b){this.recordError(b,"Session storage access blocked")}},
getSortedConditionTradeInValues:function(a){var b=[],k=a.conditionOfferMap,f=e.validConditions,g;for(g in k)if(k.hasOwnProperty(g))if(-1===d.inArray(g,f))l.recordError("Invalid condition",g+" was not found in validConditions array for type: "+a.tradeInItemType);else{var h=k[g];h.hasOwnProperty("tiv")&&b.push(h.tiv)}b.sort(function(a,b){return a-b});return b},getProductGroupRefTag:function(a){return e.PRODUCT_GROUP_FLOW_REF_TAG[a]},getTv2RefTagPrefix:function(){return e.refTagTv2+this.getIngressPageRefTag()+
"_"+this.getProductGroupRefTag(this.productGroup)},getTv2RefTagPostfix:function(){return("web"===this.deviceType?"D_":"M_")+e.PRODUCT_GROUP_REF_TAG[this.productGroup]},generatePrettyTitle:function(a){return a.split("(Trade")[0]},isGlEligibleForPastPurchases:function(a){return a===e.tradeInEchoGl},isGlEligibleForPromotions:function(a){return a===e.tradeInEchoGl},isCETechGl:function(a){return a===e.tradeInWirelessGl||a===e.tradeInDigitalVGGL||a===e.tradeInVGGl||a===e.tradeInElectronicsGL},isTradeInLaunchedFromWisper:function(a){return["launch-tanooki-wireless",
"redirect-to-login-wireless"].includes(a)},isGlEligibleForCCCard:function(a){return e.tradeInCCCardEligibleGls.includes(a)},createNearbyProcessorsList:function(a,b,e){b.empty();d.each(a,d.proxy(function(a,f){a=d("\x3cdiv/\x3e");var g=d("\x3cdiv/\x3e"),l=d("\x3cdiv/\x3e"),h=d("\x3cdiv/\x3e"),p=f.processorAddress.line1+" "+f.processorAddress.line2,t=f.processorAddress.city+" "+f.processorAddress.state+" "+f.processorAddress.postalCode+" "+f.processorAddress.countryCode;a.html(f.processorAddress.fullName).addClass("a-text-bold a-spacing-top-medium");
g.html(p);l.html(t);b.append(a).append(g).append(l).append(h);e.append(b)},this))},renderPriceBlockRecommendationMessages:function(a,b,d){var e=l.getUpgradeAsinBuyingPrice(),e=parseFloat(e);a.find("#selectedItemTotalCount").html(b);b=l.getPromoDiscount()?l.getPromoDiscount():0;d=e-(e*b+d);0<=d?(a.find("#finalPriceLowTiv").html(l.formatCurrency(d)),a.find("#buyingPrice").html(l.formatCurrency(e)).wrap("\x3cs\x3e"),a.find(".low-tiv").show(),a.find(".high-tiv").hide()):(a.find("#finalPriceHighTiv").html(l.formatCurrency(0)),
a.find("#buyingPrice").html(l.formatCurrency(e)).wrap("\x3cs\x3e"),a.find("#gcAmount").html(l.formatCurrency(-1*d)),a.find(".low-tiv").hide(),a.find(".high-tiv").show());a.show()}};f.on("a:pageUpdate",function(){f.state.parse();l.captureTradeInContext()});return l});"use strict";h.when("A","a-modal","trade-in-constants","trade-in-common-utils","tradein-desktop-side-sheet","ready").execute(function(f,e,b,d,l){function a(a){-1<a.indexOf(b.refTagPriceBlockPrefix)&&d.setRefTagPrefix(b.refTagPriceBlockPrefix);
var c=b.tradeInRouteBase+"recordRefTag?deviceType\x3d"+d.getDeviceType()+"\x26ref_\x3d",f=d.getIngressButtonRefTag();d.recordRefTag(f,c,b.refTagButtonExperimentPreFix,d.getProductGroup());(c=d.getProductGroup())?(a=a+"_"+c,a=b.tradeInRouteBase+"getCustomerItems?deviceType\x3d"+d.getDeviceType()+"\x26currentAsin\x3d"+d.getCurrentAsin()+"\x26buyingPrice\x3d"+d.getUpgradeAsinBuyingPrice()+"\x26productGroup\x3d"+c+"\x26ref_\x3d"+a):a=b.tradeInRouteBase+"generalerror?ref_\x3d"+(a+"_pg_missing");(c=e.get(b.tradeInModalName))||
(c=e.create(h("\x3cdiv /\x3e"),{url:a,name:b.tradeInModalName,header:d.getModalTitle(),width:700,cache:!1,padding:"none",timeout:3E4}));c.show()}function c(){m||d.recordTv2RefTag(b.refTagAuthRequired,n);var a=d.getAuthPortalHandleFromHostname();d.redirectToAuth(a,"launchAsinCategoryTradeIn");d.setStorefrontSessionStorage(r)}function k(a){var c=d.getIngressButtonRefTag();d.recordTv2RefTag(c,n);a=b.refTagTv2+a;var e=d.getProductGroup(),f=d.getCurrentAsin();e?(c=a+"_"+e,c={deviceType:d.getDeviceType(),
productGroup:e,ref_:c,currentAsin:f,buyingPrice:d.getUpgradeAsinBuyingPrice()},c=h.param(c),c=b.tradeInRouteBase+"wirelessTradeInSearchRefinements?"+c):c=b.tradeInRouteBase+"generalerror?ref_\x3d"+(a+"_pg_missing");q=h.get(c);l.initialize();h("body").addClass("scroll-disabled");l.show(q,function(){m=!0;0<h("#tradein-desktop-side-sheet").find(".tradein-logged-out-view").length?d.recordTv2RefTag(b.refTagAuthRequired,n):0<=a.indexOf("auth_launch")&&d.recordTv2RefTag(b.refTagAuthCompleted,n)})}var h=
f.$,q,r=d.getIsStoreFront(),n=b.tradeInRouteBase+"recordRefTag?deviceType\x3d"+d.getDeviceType()+"\x26ref_\x3d",m=!1;d.captureTradeInContext();r=d.getStorefrontSessionStorage();d.shouldLaunchTanookiV2OnPageLoad()&&k(b.refTagPrefix+"auth_launch");f.declarative("launch-tanooki-wireless","click",function(){k("launch")});f.declarative("launch-tanooki-v2","click",function(){k("launch")});f.declarative("launch-tanooki-v2-storefront","click",function(a){d.setIsStoreFront(!0);d.updateTradeInContext(a.data);
k("launch")});f.declarative("redirect-to-login-wireless","click",function(){c()});f.declarative("redirect-to-login-v2","click",function(){c()});f.declarative("launch-tanooki","click",function(c){c=(c=c.data)&&c.hasOwnProperty("ingressType")?c.ingressType:null;var e=b.refTagPrefix,f=b.tanookiBuyboxMetric;c===b.priceBlockIngressType&&(e=b.refTagPriceBlockPrefix,f=b.tanookiPriceblockMetric);d.setRefTagPrefix(e);a(e+"launch");d.recordMetric(f)});f.declarative("redirect-to-login","click",function(a){var c=
a.data;a=d.getAuthPortalHandleFromHostname();var c=c&&c.hasOwnProperty("ingressType")?c.ingressType:null,e=b.tanookiSessionStorageKey;c===b.priceBlockIngressType&&(e=b.priceBlockSessionStorageKey);d.redirectToAuth(a,e)});try{g.sessionStorage&&(sessionStorage.getItem(b.tanookiSessionStorageKey)&&(a(b.refTagPrefix+"auth_launch"),sessionStorage.removeItem(b.tanookiSessionStorageKey)),sessionStorage.getItem(b.priceBlockSessionStorageKey)&&(a(b.refTagPriceBlockPrefix+"auth_launch"),sessionStorage.removeItem(b.priceBlockSessionStorageKey)))}catch(p){g.ueLogError&&
g.ueLogError({message:p,logLevel:"ERROR",attribution:"tradein: session storage access blocked"})}});"use strict";h.when("A","ready").register("tradein-desktop-side-sheet",function(f){var e,b=f.$,d,g,a;return{initialize:function(){d=b("\x3cdiv id\x3d'a-popover-lgtbox' class\x3d'a-declarative attach-popover tradein-lgtbox' data-action\x3d'a-popover-floating-close'\x3e\x3c/div\x3e");d.hide();d.appendTo(document.body);d.click(this.close);a=b('\x3cdiv id\x3d"tradein-desktop-side-sheet" class\x3d"a-section"\x3e\x3c/div\x3e');
a.addClass("aok-hidden");b('\x3cdiv class\x3d"a-spinner-wrapper sidesheet-spinner"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium"\x3e\x3c/span\x3e\x3c/div\x3e').appendTo(a);a.appendTo(document.body);b(document).unbind("keydown",this.onKeyDown);b(document).keydown(this.onKeyDown);e=this.close},onKeyDown:function(a){27===a.which&&e()},close:function(){f.trigger("tanooki-trade-in-desktop-side-sheet-close");d.hide();b(a).animate({right:g},{duration:500,complete:function(){b(a).remove();b(d).remove();
b("body").removeClass("scroll-disabled")}})},show:function(c,e){b(a).removeClass("aok-hidden");b(a).animate({right:"0"},500,"linear");b(a).find(".sidesheet-spinner").addClass("active");d.show();b.when(c).done(function(c){b(a).find(".sidesheet-spinner").remove("active");b("#tradein-desktop-side-sheet").html(c);e&&"function"===typeof e&&e()});g=b(a).css("right")}}});"use strict";h.when("trade-in-cc-card-wireless-gl-gate","trade-in-cc-card-wireless-gl-gate-mobile").register("trade-in-cc-constants",function(f,
e){if(f.isEnabled||e.isEnabled)return{featureName:"tradeInInstantSavings",featureAttribution:"Website/CETech/WirelessPlans",actions:{expand:"trade-in-cc-card:expanded",collapse:"trade-in-cc-card:collapse",atfRefresh:"PageRefresh:ATF",ingress:"trade-in-button:ingress",postTradeInExp:"trade-in-cc:postTradeInExp",postTradeInMultiCardExp:"trade-in-cc:postTradeInMultiCardExp"},selectors:{expanderIcon:".trade-in-cc-header-icon",expanderContentWrapper:".trade-in-cc-expander-content-wrapper",expanderContent:".trade-in-cc-expander-content",
expanderContentPre:".trade-in-cc-expander-content-pre",expandInitiallyInput:".trade-in-cc-expand-initially-input",tradeInCCCardTemplate:".trade-in-cc-card-template",successMessage:".trade-in-cc-card-template .trade-in-cc-success-message",tivMessage:".trade-in-cc-tiv-message",promoMessage:".trade-in-cc-promo-message",subtitleWrapper:".trade-in-cc-subtitle-wrapper",subtitle:".trade-in-cc-subtitle",submittedMessage:".trade-in-cc-submitted-message",ccCardTotalTiv:".cc-card-total-tiv",ccCardIpTiv:".cc-card-ip-tiv",
promoTitle:".trade-in-cc-promo-title",promoSubtitle:".trade-in-cc-promo-subtitle",ipPromoSubtitle:".trade-in-cc-ip-promo-subtitle",nipPromoSubtitle:".trade-in-cc-non-ip-promo-subtitle",promoTitleSingle:".trade-in-cc-promo-title-single",singlePromoTitle:".single-promo-title",promoTitleMultiple:".trade-in-cc-promo-title-multiple",lastPromoTitle:".last-promo-title",remainingPromoAmount:".remaining-promo-amount",collapseAfterSubmission:"input[name\x3d'tradeInCCCardCollapseAfterSubmission']",ccPostTradeInMessageTemplate:".cc-post-trade-in-message-template",
ccTiMessageContent:".cc-post-trade-in-message-content",ccIpTiMessage:".trade-in-cc-ip-ti-message",ccNipTiMessage:".trade-in-cc-non-ip-ti-message",ccMixedTiMessage:".trade-in-cc-mix-ti-message",ccPromoMessageContent:".trade-in-cc-promo-message-content",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards",defaultOptionSwatch:".tradein-twister-box-group-default-option",expandContentSuccessMessage:".trade-in-cc-expander-content .trade-in-cc-success-message"},
classes:{hidden:"aok-hidden",rotate:"rotate",tradeInCCExpanded:"trade-in-cc-expander-content-wrapper-expanded",contentHidden:"content-hidden",selectedSwatch:"tradein-options-selected-box-group"}}});"use strict";h.when("A","trade-in-cc-constants","trade-in-cc-card-wireless-gl-gate","trade-in-cc-card-wireless-gl-gate-mobile").register("trade-in-cc-expander",function(f,e,b,d){function g(b){a(c.expanderIcon).toggleClass(k.rotate,b);a(c.subtitleWrapper).toggleClass(k.hidden,b);a(c.expanderContent).toggleClass(k.contentHidden,
!b);return a(c.expanderContentWrapper).toggleClass(k.tradeInCCExpanded,b).hasClass(k.tradeInCCExpanded)}if(b.isEnabled||d.isEnabled){var a=f.$,c=e.selectors,k=e.classes;return{toggleCard:g}}});"use strict";h.when("A","cc-manager","trade-in-cc-constants","trade-in-cc-card-wireless-gl-gate").register("trade-in-cc-registration",function(f,e,b,d){d.isEnabled&&(d={featureName:b.featureName,featureAttribution:b.featureAttribution},f.on(b.actions.expand,function(){e.cardExpanded(b.featureName)}),e.registerFeature(d,
{init:function(){},validateInputParams:function(){return!0},cardCollapse:function(){f.trigger(b.actions.collapse)}}))});"use strict";h.when("A","trade-in-cc-constants","trade-in-cc-expander","trade-in-cc-card-wireless-gl-gate","trade-in-cc-registration").execute(function(f,e,b,d){function g(){var a=!c(h.expanderContentWrapper).hasClass(m.tradeInCCExpanded);b.toggleCard(a);a&&f.trigger(k.expand)}function a(){"true"===c(h.expandInitiallyInput).val()&&b.toggleCard(!0)}if(d.isEnabled){var c=f.$,k=e.actions,
h=e.selectors,m=e.classes;f.declarative("toggle-trade-in-cc-card","click",g);f.on(k.collapse,function(){b.toggleCard(!1)});f.on(k.atfRefresh,function(){a()});a()}});"use strict";h.when("A","trade-in-cc-constants","trade-in-cc-card-wireless-gl-gate","trade-in-cc-card-wireless-gl-gate-mobile","trade-in-cc-registration").execute("trade-in-cc-metrics",function(f,e,b,d){if(b.isEnabled||d.isEnabled){var h=e.actions,a=function(){var a=g.ue;return{incrementCount:function(b){a&&a.count&&b&&(b="twisterPlus_tradeIn_"+
b+"."+e.featureName,a.count(b,(a.count(b)||0)+1))}}}();f.declarative("launch-tanooki-v2",function(){f.trigger(h.ingress)});f.on(h.expand,function(){a.incrementCount("ccExpanded")});f.on(h.ingress,function(){a.incrementCount("ccIngress")})}});"use strict";h.register("tanooki-ingress-button-treatment",function(){return{isEnabled:!1}});"use strict";h.register("trade-in-cc-card-wireless-gl-gate",function(){return{isEnabled:!1}});"use strict";h.register("trade-in-cc-card-wireless-gl-gate-mobile",function(){return{isEnabled:!1}})});